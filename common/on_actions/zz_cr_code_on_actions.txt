# For on_actions launched by the code itself.

on_wargoal_enforced = {
	effect = {
        if = {
        	limit = {
        		owner = {
        			game_date < 1850.1.1 # Just in case.
        			NOT = {
        				has_variable = cabanagem_defeat_var
        				exists = c:PRA
        			}
	        		c:BRZ ?= this
					p:xC413AA.owner = this #Belem
					p:x5DB7DF.owner = this #Manaus
					#any_scope_state = { state_region = s:STATE_AMAZONAS }
				}
        	}
        	owner = {
        		set_variable = cabanagem_defeat_var
        		trigger_event = { id = brazilian_minors.2 days = 0 popup = yes }
        	}
        }	
	}

}