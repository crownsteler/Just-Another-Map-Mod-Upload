namespace = cr_canadian_indian_treaties

cr_canadian_indian_treaties.99 = { #cleanup event
	type = country_event
	hidden = yes
	immediate = {
		remove_global_variable = cr_robinson_treaty_var
		remove_global_variable = cr_ojibwe_petition_against_mines_has_happened
		remove_global_variable = cr_papineau_report_has_been_published
		remove_modifier = cr_eyeing_unceded_land
		remove_variable = cr_lake_superior_cooldown
		remove_variable = cr_lake_superior_mining_permits_cooldown
		remove_variable = cr_lake_superior_surveyor_threatend_cooldown
		remove_variable = cr_lake_superior_incident_at_coppermine_cooldown
		remove_variable = cr_lake_superior_copper_rebellion_cooldown
		remove_variable = cr_lake_superior_mining_tails_cooldown
		remove_variable = cr_lake_superior_copper_rush_tools_of_trade
		remove_variable = cr_lake_superior_rush_has_happened
		#remove cr_lake_superior_rush_has_happened from Ontario
		#remove cr_lake_superior_rush_has_happened from Michigan
		if = {
			limit = {
				is_ai = yes
				has_law = law_type:law_no_colonial_affairs
			}
			activate_law = law_type:law_colonial_resettlement
		}
	}
}

cr_canadian_indian_treaties.98 = { #Rock of the Ages / The Ontonagon Boulder
	type = state_event
	placement = p:x6486dd

	title = cr_canadian_indian_treaties.0.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = {
						state_region = s:STATE_MICHIGAN
					}
				}
				desc = cr_canadian_indian_treaties.0.desc
			}
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.0.desc_michigan
			}
		}
	}
	
	flavor = {
		random_valid = {
			#triggered_desc = {
			#	trigger = {
			#		always = yes
			#	}
			#	desc = cr_canadian_indian_treaties.0.f
			#}
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.0.f_2
			}
		}	
	}

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_gold_prospectors.bk2"
	}

	icon = "gfx/interface/icons/event_icons/event_map.dds"

	duration = 3

	trigger = {
		NOR = {
			has_variable = cr_lake_superior_rush_has_happened
			owner = {
				has_variable = cr_lake_superior_rush_has_happened
			}
		}
		OR = {
			state_region = s:STATE_ONTARIO
			state_region = s:STATE_MICHIGAN
		}
	}

	immediate = {
		set_variable = cr_lake_superior_rush_has_happened
		if = {
			limit = {
				state_region = s:STATE_ONTARIO
			}
			save_scope_as = ontario
			random_state = {
				limit = {
					state_region = s:STATE_MICHIGAN
					owner = {
						is_country_type = recognized
					}
				}
				save_scope_as = michigan
			}
		}
		if = {
			limit = {
				state_region = s:STATE_MICHIGAN
			}
			save_scope_as = michigan
			random_state = {
				limit = {
					state_region = s:STATE_ONTARIO
					owner = {
						is_country_type = recognized
					}
				}
				save_scope_as = ontario
			}
		}
	}

	option = {
		name = cr_canadian_indian_treaties.0.a
		owner = {
			set_variable = cr_lake_superior_rush_has_happened
			if = {
				limit = {
					OR = {
						country_has_primary_culture = cu:franco_canadian
						country_has_primary_culture = cu:anglo_canadian
					}
					NOT = {
						has_journal_entry = je_cr_robinson_treaties
					}
				}
				add_journal_entry = {
					type = je_cr_robinson_treaties
				}
			}
		}
		add_modifier = {
			name = cr_lake_superior_copper_rush_michigan
			months = normal_modifier_time
		}
		custom_tooltip = {
			text = cr_canadian_indian_treaties.0.a_tt
			random_state = {
				limit = {
					state_region = s:STATE_MICHIGAN
				}
				force_resource_discovery = bg_copper_mining
			}
			random_state = {
				limit = {
					state_region = s:STATE_ONTARIO
				}
				force_resource_discovery = bg_copper_mining
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = {
		name = cr_canadian_indian_treaties.0.b
		trigger = {
			owner = {
				OR = {
					country_has_primary_culture = cu:yankee
					country_has_primary_culture = cu:dixie
				}
			}
			any_state = {
				state_region = s:STATE_ONTARIO
				NOT = {
					has_variable = cr_lake_superior_rush_has_happened
				}
			}
		}
		default_option = yes
		random_state = {
			limit = {
				state_region = s:STATE_MICHIGAN
			}
			force_resource_discovery = bg_copper_mining
		}
		owner = {
			set_variable = cr_lake_superior_rush_has_happened
			custom_tooltip = cr_canadian_indian_treaties.0.b_tt
			#add_modifier = {
			#	name = cr_lake_superior_copper_rush_ontonagon_boulder
			#	months = long_modifier_time
			#}
		}
		
		add_radicals_in_state = {
			value = small_radicals
			pop_type = capitalists
		}
		ai_chance = {
			base = 10
			modifier = {
				add = 10
				c:USA ?= this
			}
			modifier = {
				add = 25
				NOT = {
					has_law = law_type:law_laissez_faire
				}
			}
			modifier = {
				add = 25
				NOT = {
					has_law = law_type:law_free_trade
				}
			}
		}
	}
}

cr_canadian_indian_treaties.1 = { #Mining Permit
	type = country_event
	placement = ROOT

	title = cr_canadian_indian_treaties.1.t
	desc = cr_canadian_indian_treaties.1.desc
	flavor = cr_canadian_indian_treaties.1.f

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_gold_prospectors.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/construction_colony"

	icon = "gfx/interface/icons/event_icons/event_industry.dds"

	duration = 3
	
	cooldown = {
		months = 6
	}

	trigger = {
		NOT = {
			has_variable = cr_lake_superior_cooldown
		}
		NOT = {
			has_variable = cr_lake_superior_mining_permits_cooldown
		}
		NOT = {
			has_war_with = c:CTF
		}
		#construction_queue_private_duration < 52 
		#scope:copper_mining_state = {
		#	any_scope_building = {
		#		is_building_type = building_copper_mine
		#		can_queue_building_levels = 1
		#	}
		#}
		OR = {
			scope:copper_mining_state = {
				NOT = { has_building = building_copper_mine }
			}
			scope:copper_mining_state = {
				any_scope_building = {
					is_building_type = building_copper_mine
					NOT = { is_under_construction = yes }
				}
			}
			AND = {
				scope:copper_mining_state = {
					any_scope_building = {
						is_building_type = building_copper_mine
						is_under_construction = yes
					}
				}
				investment_pool < 40000
			}
			AND = {
				is_ai = yes
				investment_pool < 40000
			}
		}
	}

	immediate = {
		#random_political_movement = {
		#	limit = {
		#		is_political_movement_type = movement_to_preserve
		#	}
		#	save_scope_as = rally_movement
		#}
	}

	option = {
		name = cr_canadian_indian_treaties.1.a
		scope:native_state = {
			change_tension = {
				country = root
				value = 10
			}
		}
		if = { #Helping the AI out a bit.
			limit = { is_ai = yes }
			scope:copper_mining_state = {
				if = {
					limit = {
						NOT = { has_building = building_copper_mine }
					}
					create_building = {
						building = building_copper_mine
						level = 1
					}
				}
				else = {
					start_privately_funded_building_construction = building_copper_mine
					ROOT = {
						add_investment_pool = 100000
					}
				}
			}
		}
		else_if = { #mining permits attracting new investment
			limit = {
				scope:copper_mining_state = {
					AND = {
						any_scope_building = {
							is_building_type = building_copper_mine
							is_under_construction = yes
						}
					}
				}
				investment_pool < 35000
			}
			ROOT = {
				add_investment_pool = 40000
			}
		}
		else = {
			ROOT = {
				if = {
					limit = {
						investment_pool < 45000
					}
					add_investment_pool = 50000	
				}
				else = {
					
				}
			}
			scope:copper_mining_state = {
				start_privately_funded_building_construction = building_copper_mine
			}
		}
		if = {
			limit = {
				has_modifier = cr_laws_upholding_native_land_rights
			}
			remove_enactment_modifier = cr_laws_upholding_native_land_rights
		}
		ig:ig_industrialists = {
			if = {
				limit = {
					NOR = {
						has_modifier = cr_approved_mining_permits
						has_modifier = cr_denied_mining_permits
					}
				}
				add_modifier = {
					name = cr_approved_mining_permits
					months = short_modifier_time
				}
			}
			else_if = {
				limit = {
					has_modifier = cr_denied_mining_permits
				}
				remove_modifier = cr_denied_mining_permits
				add_modifier = {
					name = cr_approved_mining_permits
					months = short_modifier_time
				}
			}
		}
		if = {
			limit = {
				has_law = law_type:law_no_colonial_affairs
				OR = {
					is_enacting_law = law_type:law_frontier_colonization
					is_enacting_law = law_type:law_colonial_exploitation
					is_enacting_law = law_type:law_colonial_resettlement
				}
			}
			random_political_movement = {
				limit = {
					is_political_movement_type = movement_to_preserve
					NOT = { has_modifier = cr_laws_granted_mining_permits_movement }
				}
				add_modifier = {
					name = cr_laws_granted_mining_permits_movement
					months = normal_modifier_time
				}
			}
		}
		if = {
			limit = {
				any_political_movement = {
					is_political_movement_type = movement_to_enact
					desired_law = law_type:law_frontier_colonization
					NOT = { has_modifier = cr_laws_granted_mining_permits_movement_likes }
				}
			}
			random_political_movement = {
				limit = {
					is_political_movement_type = movement_to_enact
					desired_law = law_type:law_frontier_colonization
				}
				add_modifier = {
					name = cr_laws_granted_mining_permits_movement_likes
					months = normal_modifier_time
				}
			}
		}
		hidden_effect = {
			change_global_variable = {
				name = cr_robinson_treaty_var
				add = 1
			}
		}
		default_option = yes
		ai_chance = {
			base = 85
			modifier = {
				factor = 0
				any_political_movement = {
					political_movement_radicalism > 0.6
					is_political_movement_type = movement_to_preserve
				}
			}
		}
	}

	option = {
		name = cr_canadian_indian_treaties.1.b
		if = {
			limit = {
				NOT = {
					has_modifier = cr_laws_upholding_native_land_rights
				}
				OR = {
					is_enacting_law = law_type:law_frontier_colonization
					is_enacting_law = law_type:law_colonial_exploitation
					is_enacting_law = law_type:law_colonial_resettlement
				}
			}
			add_enactment_modifier = {
				name = cr_laws_upholding_native_land_rights
			}
		}
		else = {
			ig:ig_industrialists = {
				if = {
					limit = {
						NOR = {
							has_modifier = cr_approved_mining_permits
							has_modifier = cr_denied_mining_permits
						}
					}
					add_modifier = {
						name = cr_denied_mining_permits
						months = short_modifier_time
					}
				}
				else_if = {
					limit = {
						has_modifier = cr_approved_mining_permits
					}
					remove_modifier = cr_approved_mining_permits
					add_modifier = {
						name = cr_denied_mining_permits
						months = short_modifier_time
					}
				}
				else = {
					add_modifier = {
						name = cr_denied_mining_permits
						months = short_modifier_time
					}
				}
			}
		}
		scope:copper_mining_state = {
			hidden_effect = {
				remove_modifier = cr_mining_permit_denied
			}
			add_modifier = {
				name = cr_mining_permit_denied
				months = short_modifier_time
			}
		}
		random_political_movement = {
			limit = {
				is_political_movement_type = movement_to_preserve
				#has_modifier = cr_laws_granted_mining_permits_movement
			}
			remove_modifier = cr_laws_granted_mining_permits_movement
		}
		ai_chance = {
			base = 15
			modifier = {
				factor = 5
				any_political_movement = {
					political_movement_radicalism > 0.6
					is_political_movement_type = movement_to_preserve
				}
			}
		}
	}
}

cr_canadian_indian_treaties.2 = { #Surveyor Threatened
	type = country_event
	placement = p:x313BB2

	title = cr_canadian_indian_treaties.2.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					has_law = law_type:law_laissez_faire
				}
				desc = cr_canadian_indian_treaties.2.desc_industrialists
			}
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.2.desc
			}
		}
	}
	flavor = cr_canadian_indian_treaties.2.f

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_native_american.bk2"
	}

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3
	
	cooldown = {
		months = 7
	}

	trigger = {
		NOT = {
			has_variable = cr_lake_superior_cooldown
		} 
		NOT = {
			has_war_with = c:CTF
		}
		scope:copper_mining_state = {
			any_scope_building = {
				is_building_type = building_copper_mine
				is_under_construction = yes
			}
		}
	}

	immediate = {
		scope:native_state = {
			random_scope_character = {
				limit = {
					NOT = { 
						has_ideology = ideology:ideology_pacifist 
						has_trait = trait_child
					}
				}
				save_scope_as = native_state_threatener
			}
		}
		scope:copper_mining_state = {
			random_scope_building = {
				limit = {
					is_building_type = building_copper_mine
					is_under_construction = yes	
				}
				save_scope_as = under_construction_mine
			}
		}
	}

	option = {
		name = cr_canadian_indian_treaties.2.a
		default_option = yes
		scope:native_state = {
			change_tension = {
				country = root
				value = 10
			}
		}
		if = {
			limit = {
				scope:copper_mining_state = {
					AND = {
						any_scope_building = {
							is_building_type = building_copper_mine
							is_under_construction = yes
						}
					}
				}
				investment_pool < 25000
			}
			add_investment_pool = 30000
			set_variable = {
				name = cr_lake_superior_mining_permits_cooldown
				months = 3
			}
		}
		if = {
			limit = {
				NOT = {
					has_modifier = cr_laws_pressing_on
				}
				OR = {
					is_enacting_law = law_type:law_frontier_colonization
					is_enacting_law = law_type:law_colonial_exploitation
					is_enacting_law = law_type:law_colonial_resettlement
				}
			}
			add_enactment_modifier = {
				name = cr_laws_pressing_on
			}
		}
		if = {
			limit = {
				any_political_movement = {
					is_political_movement_type = movement_to_enact
					desired_law = law_type:law_frontier_colonization
					NOT = { has_modifier = cr_laws_surveyors_threatend }
				}
			}
			random_political_movement = {
				limit = {
					is_political_movement_type = movement_to_enact
					desired_law = law_type:law_frontier_colonization
				}
				add_modifier = {
					name = cr_laws_surveyors_threatend
				}
			}
		}
		hidden_effect = {
			change_global_variable = {
				name = cr_robinson_treaty_var
				add = 1
			}
		}
		ai_chance = {
			base = 85
			modifier = {
				factor = 0.25
				any_political_movement = {
					political_movement_radicalism > 0.6
					is_political_movement_type = movement_to_preserve
				}
			}
		}
	}

	option = { #should slow down construction somehow
		name = cr_canadian_indian_treaties.2.b
		if = {
			limit = {
				has_law = law_type:law_no_colonial_affairs
				OR = {
					is_enacting_law = law_type:law_frontier_colonization
					is_enacting_law = law_type:law_colonial_exploitation
					is_enacting_law = law_type:law_colonial_resettlement
				}
			}
			random_political_movement = {
				limit = {
					is_political_movement_type = movement_to_preserve
					NOT = { has_modifier = cr_laws_deescalation }
				}
				add_modifier = {
					name = cr_laws_deescalation
				}
			}
		}
		else_if = {
			limit = {
				any_political_movement = {
					is_political_movement_type = movement_to_enact
					desired_law = law_type:law_frontier_colonization
					NOT = { has_modifier = cr_laws_caved_to_native_pressure }
				}
			}
			random_political_movement = {
				limit = {
					is_political_movement_type = movement_to_enact
					desired_law = law_type:law_frontier_colonization
				}
				add_modifier = {
					name = cr_laws_caved_to_native_pressure
				}
			}
		}
		else = {
			scope:copper_mining_state = {
				add_radicals_in_state = {
					value = small_radicals
					pop_type = capitalists
				}
			}
		}
		if = {
			limit = {
				scope:copper_mining_state = {
					AND = {
						any_scope_building = {
							is_building_type = building_copper_mine
							is_under_construction = yes
						}
					}
				}
				investment_pool >20000
			}
			add_investment_pool = -20000
			set_variable = {
				name = cr_lake_superior_mining_permits_cooldown
				months = 4
			}
		}
		hidden_effect = {
		
		}
		ai_chance = {
			base = 15
			modifier = {
				factor = 5
				any_political_movement = {
					political_movement_radicalism > 0.6
					is_political_movement_type = movement_to_preserve
				}
			}
		}
	}
}

cr_canadian_indian_treaties.3 = { #Ojibwe Petition
	type = country_event
	placement = ROOT

	title = cr_canadian_indian_treaties.3.t
	desc = cr_canadian_indian_treaties.3.desc
	flavor = cr_canadian_indian_treaties.3.f

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_native_american.bk2"
	}

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	duration = 3

	trigger = {
		NOT = {
			has_variable = cr_lake_superior_cooldown
		}
		NOT = {
			has_global_variable = cr_ojibwe_petition_against_mines_has_happened
		}
		NOT = {
			has_war_with = c:CTF
		}
		scope:copper_mining_state = {
			any_scope_building = {
				is_building_type = building_copper_mine
				level >= 1
				is_under_construction = yes
			}
		}
	}

	immediate = {
		scope:native_state = {
			random_scope_character = {
				limit = {
					NOT = { 
						has_ideology = ideology:ideology_pacifist 
						has_trait = trait_child
					}
				}
				save_scope_as = native_state_petitioner
			}
		}
		set_global_variable = cr_ojibwe_petition_against_mines_has_happened
	}

	option = {
		name = cr_canadian_indian_treaties.3.a
		default_option = yes
		
		scope:native_state = {
			change_tension = {
				country = root
				value = 10
			}
		}
		if = {
			limit = {
				is_ai = yes
				investment_pool < 20000
			}
			add_investment_pool = 30000
		}
		hidden_effect = {
			change_global_variable = {
				name = cr_robinson_treaty_var
				add = 1
			}
		}
		ai_chance = {
			base = 85
			modifier = {
				factor = 0.5
				any_political_movement = {
					political_movement_radicalism > 0.6
					is_political_movement_type = movement_to_preserve
				}
			}
		}
	}

	option = {
		name = cr_canadian_indian_treaties.3.b
		
		if = {
			limit = {
				NOT = {
					has_modifier = cr_laws_native_ownership_share
				}
				OR = {
					is_enacting_law = law_type:law_frontier_colonization
					is_enacting_law = law_type:law_colonial_exploitation
					is_enacting_law = law_type:law_colonial_resettlement
				}
			}
			add_enactment_modifier = {
				name = cr_laws_negotiating_native_bands
			}
		}
		if = {
			limit = {
				has_law = law_type:law_no_colonial_affairs
				OR = {
					is_enacting_law = law_type:law_frontier_colonization
					is_enacting_law = law_type:law_colonial_exploitation
					is_enacting_law = law_type:law_colonial_resettlement
				}
			}
			random_political_movement = {
				limit = {
					is_political_movement_type = movement_to_preserve
					NOT = { has_modifier = cr_laws_supporting_native_bands_positive }
				}
				add_modifier = {
					name = cr_laws_supporting_native_bands_positive
				}
			}
		}
		else_if = {
			limit = {
				any_political_movement = {
					is_political_movement_type = movement_to_enact
					desired_law = law_type:law_frontier_colonization
					NOT = { has_modifier = cr_laws_supporting_native_bands_negative }
				}
			}
			random_political_movement = {
				limit = {
					is_political_movement_type = movement_to_enact
					desired_law = law_type:law_frontier_colonization
				}
				add_modifier = {
					name = cr_laws_supporting_native_bands_negative
				}
			}
		}
		else = {
			add_modifier = {
				name = cr_treaty_annuities
				months = very_long_modifier_time
			}
		}

		ai_chance = {
			base = 15
			modifier = {
				factor = 4
				any_political_movement = {
					political_movement_radicalism > 0.6
					is_political_movement_type = movement_to_preserve
				}
			}
		}
	}
}

cr_canadian_indian_treaties.4 = { #On the Legal Ownership of Lands on Lake Superior/Papineau Report
	type = country_event
	placement = ROOT

	title = cr_canadian_indian_treaties.4.t
	desc = cr_canadian_indian_treaties.4.desc
	flavor = cr_canadian_indian_treaties.4.flavour

	event_image = {
		video = "unspecific_signed_contract"
	}

	icon = "gfx/interface/icons/event_icons/event_scales.dds"

	duration = 3

	trigger = {
		NOT = {
			has_variable = cr_lake_superior_cooldown
			has_global_variable = cr_papineau_report_has_been_published
		}
		is_enacting_law = law_type:law_frontier_colonization
		OR = {
			ROOT = c:QUE
			NOT = {
				has_law = law_type:law_censorship
				has_law = law_type:law_national_supremacy
			}
		}
	}

	immediate = {
		set_global_variable = cr_papineau_report_has_been_published
	}

	option = {
		name = cr_canadian_indian_treaties.4.a
		default_option = yes
		
		scope:native_state = {
			change_tension = {
				country = root
				value = -10
			}
		}
		add_radicals = {
			value = small_radicals
			culture = scope:ruling_culture
		}
		ai_chance = {
			base = 85
		}
	}

	option = {
		name = cr_canadian_indian_treaties.4.b
		add_enactment_modifier = {
			name = cr_laws_papineau_report
		}
		scope:native_state = {
			change_tension = {
				country = root
				value = 20
			}
		}
		s:STATE_ONTARIO = {
			add_claim = c:QUE
			add_homeland = cu:franco_canadian
		}
		add_loyalists = {
			value = small_radicals
			culture = scope:ruling_culture
		}
		add_radicals = {
			value = small_radicals
			culture = scope:anglo_culture
		}
		hidden_effect = {
			change_global_variable = {
				name = cr_robinson_treaty_var
				add = 2
			}
		}

		ai_chance = {
			base = 15
		}
	}
}

cr_canadian_indian_treaties.5 = { #Incident at the Copper Mine/Mica Bay Incident
	type = country_event
	placement = p:x313BB2

	title = cr_canadian_indian_treaties.5.t
	desc = cr_canadian_indian_treaties.5.desc
	flavor = cr_canadian_indian_treaties.5.f

	event_image = {
		video = "europenorthamerica_native_american"
	}

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	duration = 3
	cooldown = {
		months = 12
	}

	trigger = {
		NOT = {
			has_war_with = c:CTF
		}
		global_var:cr_robinson_treaty_var > 5
		scope:copper_mining_state = {
			any_scope_building = {
				is_building_type = building_copper_mine
				level >= 1
			}
		}	
	}

	immediate = {
		scope:native_state = {
			random_scope_character = {
				limit = {
					NOT = { 
						has_ideology = ideology:ideology_pacifist 
						has_trait = trait_child
					}
				}
				save_scope_as = native_state_threatener
			}
		}
		scope:copper_mining_state = {
			random_scope_building = {
				limit = {
					is_building_type = building_copper_mine
					level >= 1
				}
				save_scope_as = contested_mine
			}
		}	
	}

	option = {
		name = cr_canadian_indian_treaties.5.a #should reduce building level by 1, now reduces investment pool
		custom_tooltip = cr_canadian_indian_treaties.5.a_tt
		scope:native_state = {
			change_tension = {
				country = root
				value = 10
			}
		}
		if = {
			limit = {
				has_law = law_type:law_no_colonial_affairs
				OR = {
					is_enacting_law = law_type:law_frontier_colonization
					is_enacting_law = law_type:law_colonial_exploitation
					is_enacting_law = law_type:law_colonial_resettlement
				}
			}
			random_political_movement = {
				limit = {
					is_political_movement_type = movement_to_preserve
					NOT = { has_modifier = cr_laws_mines_closed_positive }
				}
				add_modifier = {
					name = cr_laws_mines_closed_positive 
				}
			}
		}
		else_if = {
			limit = {
				any_political_movement = {
					is_political_movement_type = movement_to_enact
					desired_law = law_type:law_frontier_colonization
					NOT = { has_modifier = cr_laws_mines_closed_negative }
				}
			}
			random_political_movement = {
				limit = {
					is_political_movement_type = movement_to_enact
					desired_law = law_type:law_frontier_colonization
				}
				add_modifier = {
					name = cr_laws_mines_closed_negative
					months = normal_modifier_time
				}
			}
		}
		scope:mining_ig = {
			add_modifier = {
				name = cr_surrendered_to_native_demands
				months = normal_modifier_time
			}		
		}
		if = {
			limit = {
				investment_pool >100000
			}
			add_investment_pool = -100000
		}
		else_if = {
			limit = {
				investment_pool >90000
			}
			add_investment_pool = -90000
		}
		else_if = {
			limit = {
				investment_pool >80000
			}
			add_investment_pool = -80000
		}
		else_if = {
			limit = {
				investment_pool >70000
			}
			add_investment_pool = -70000
		}
		else_if = {
			limit = {
				investment_pool >50000
			}
			add_investment_pool = -50000
		}
		else_if = {
			limit = {
				investment_pool >40000
			}
			add_investment_pool = -40000
		}
		else_if = {
			limit = {
				investment_pool >30000
			}
			add_investment_pool = -30000
		}
		else_if = {
			limit = {
				investment_pool >20000
			}
			add_investment_pool = -20000
		}
		else_if = {
			limit = {
				investment_pool >10000
			}
			add_investment_pool = -10000
		}
		else_if = {
			limit = {
				investment_pool >5000
			}
			add_investment_pool = -5000
		}
		else_if = {
			limit = {
				investment_pool >1000
			}
			add_investment_pool = -1000
		}
		hidden_effect = {
			change_global_variable = {
				name = cr_robinson_treaty_var
				add = 1
			}
			set_variable = {
				name = cr_lake_superior_mining_permits_cooldown
				months = 12
			}
		}
		default_option = yes
		ai_chance = {
			base = 85
		}
	}

	option = {
		name = cr_canadian_indian_treaties.5.b
		custom_tooltip = cr_canadian_indian_treaties.5.b_tt
		scope:contested_mine = {
			if = {
				limit = {
					NOT = {
						has_modifier = cr_native_land_payments_building
					}
				}
				add_modifier = { 
					name = cr_native_land_payments_building
					months = very_long_modifier_time
				}
			}
		}	
		scope:native_state = {
			change_tension = {
				country = root
				value = -10
			}
		}
		if = {
			limit = {
				NOT = {
					has_modifier = cr_laws_native_ownership_share
				}
				OR = {
					is_enacting_law = law_type:law_frontier_colonization
					is_enacting_law = law_type:law_colonial_exploitation
					is_enacting_law = law_type:law_colonial_resettlement
				}
			}
			add_enactment_modifier = {
				name = cr_laws_native_ownership_share
			}
		}
		scope:armed_forces_ig = {
			add_modifier = {
				name = cr_surrendered_to_native_demands
				months = normal_modifier_time
			}		
		}
		hidden_effect = {
			set_variable = {
				name = cr_lake_superior_mining_permits_cooldown
				months = 5
			}
			change_global_variable = {
				name = cr_robinson_treaty_var
				add = -1
			}
		}
		ai_chance = {
			base = 10
		}
	}

	option = {
		name = cr_canadian_indian_treaties.5.c
		custom_tooltip = {
			text = cr_canadian_indian_treaties.5.c_tt
			create_character = {
				is_agitator = yes
				interest_group = ig:ig_armed_forces
				ideology = ideology_jingoist_leader
			}
		}
		scope:native_state = {
			change_tension = {
				country = root
				value = 30
			}
		}
		if = {
			limit = {
				has_law = law_type:law_no_colonial_affairs
				OR = {
					is_enacting_law = law_type:law_frontier_colonization
					is_enacting_law = law_type:law_colonial_exploitation
					is_enacting_law = law_type:law_colonial_resettlement
				}
			}
			random_political_movement = {
				limit = {
					is_political_movement_type = movement_to_preserve
					NOT = { has_modifier = cr_laws_incident_at_the_copper_mine_negative }
				}
				add_modifier = {
					name = cr_laws_incident_at_the_copper_mine_negative
				}
			}
		}
		else_if = {
			limit = {
				any_political_movement = {
					is_political_movement_type = movement_to_enact
					desired_law = law_type:law_frontier_colonization
					NOT = { has_modifier = cr_laws_incident_at_the_copper_mine_positive }
				}
			}
			random_political_movement = {
				limit = {
					is_political_movement_type = movement_to_enact
					desired_law = law_type:law_frontier_colonization
				}
				add_modifier = {
					name = cr_laws_incident_at_the_copper_mine_positive
					months = normal_modifier_time
				}
			}
		}
		hidden_effect = {
			change_global_variable = {
				name = cr_robinson_treaty_var
				add = 3
			}
		}
		ai_chance = {
			base = 5
		}
	}
}


cr_canadian_indian_treaties.6 = { #The Copper Country Insurgency
	type = country_event
	placement = p:x313BB2

	title = cr_canadian_indian_treaties.6.t
	desc = cr_canadian_indian_treaties.6.desc
	flavor = cr_canadian_indian_treaties.6.f

	event_image = {
		video = "europenorthamerica_before_the_battle"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/construction_colony"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	duration = 3

	trigger = {
		NOT = {
			has_variable = cr_lake_superior_copper_rebellion_cooldown
		}
		NOT = {
			has_truce_with = c:CTF
			has_war_with = c:CTF
		}
		global_var:cr_robinson_treaty_var >8
		scope:copper_mining_state = {
			any_scope_building = {
				is_building_type = building_copper_mine
				level >= 2
			}
		}
	}

	immediate = {
		scope:native_state = {
			random_scope_character = {
				limit = {
					NOT = { has_ideology = ideology:ideology_pacifist }
				}
				set_ideology = ideology:ideology_jingoist_leader
				save_scope_as = native_state_threatener
			}
		}
	}

	option = {
		name = cr_canadian_indian_treaties.6.a
		scope:copper_mining_state = {
			add_radicals_in_state = {
				value = large_radicals
				culture = cu:algonquian
			}
		}
		scope:copper_mining_state.state_region = {
			add_devastation = 6
		}
		scope:native_state = {
			change_tension = {
				country = root
				value = 35
			}
		}
		scope:native_state = {
			create_diplomatic_play = {
				set_key = cr_copper_country_insurgency
				
				war = yes
				
				type = dp_native_uprising
				
				target_state = s:STATE_ONTARIO.region_state:ONT
			}
		}
		hidden_effect = {
			change_global_variable = {
				name = cr_robinson_treaty_var
				add = 1
			}
			set_variable = {
				name = cr_lake_superior_copper_rebellion_cooldown
				months = 12
			}	
		}
		default_option = yes
		#ai_chance = {
		#	base = 85
		#}
	}
}

cr_canadian_indian_treaties.8 = { #The Long Tail of Mining
	type = country_event
	placement = p:x313BB2

	title = cr_canadian_indian_treaties.8.t
	desc = cr_canadian_indian_treaties.8.desc
	flavor = cr_canadian_indian_treaties.8.f

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_gold_prospectors.bk2"
	}

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	duration = 3
	cooldown = {
		months = 14
	}

	trigger = {
		NOT = {
			has_war_with = c:CTF
		}
		scope:copper_mining_state = {
			any_scope_building = {
				is_building_type = building_copper_mine
				level >= 2
			}
		}	
	}

	immediate = {
		scope:native_state = {
			random_scope_character = {
				limit = {
					NOT = { has_ideology = ideology:ideology_pacifist }
				}
				save_scope_as = native_state_threatener
			}
		}
	}

	option = {
		name = cr_canadian_indian_treaties.8.a
		scope:copper_mining_state = {
			add_radicals_in_state = {
				value = medium_radicals
				culture = cu:algonquian
			}
		}
		scope:copper_mining_state.state_region = {
			add_pollution = 3
		}
		scope:native_state = {
			change_tension = {
				country = root
				value = 10
			}
		}
		hidden_effect = {
			change_global_variable = {
				name = cr_robinson_treaty_var
				add = 1
			}
		}
		default_option = yes
		#ai_chance = {
		#	base = 85
		#}
	}
}

cr_canadian_indian_treaties.9 = { #The Tools of the Trade
	type = country_event
	placement = p:x313BB2

	title = cr_canadian_indian_treaties.9.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = {
						any_scope_building = {
							is_building_type = building_tooling_workshops
						}
					}
				}
				desc = cr_canadian_indian_treaties.9.desc
			}
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.9.desc_home_production
			}
		}
	}
	
	flavor = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = {
						any_scope_building = {
							is_building_type = building_tooling_workshops
						}
					}
				}
				desc = cr_canadian_indian_treaties.9.f
			}
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.9.f_home_production
			}
		}	
	}

	event_image = {
		video = "gfx/event_pictures/unspecific_factory_closed.bk2"
	}

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	duration = 3
	cooldown = {
		months = 24
	}

	trigger = {
		has_law = law_type:law_interventionism
		scope:copper_mining_state = {
			any_scope_building = {
				is_building_type = building_copper_mine
				level >= 2
			}
		}
		scope:copper_mining_state = {
			sg:tools = { state_goods_pricier > 0.15 }
		}
	}

	immediate = {
		if = {
			limit = {
				market_capital.market = {
					mg:tools = {
						market_goods_production >= 1
					}
				}
				NOT = {
					any_scope_building = {
						is_building_type = building_tooling_workshops
					}
				}
			}
			top_overlord = {
				random_scope_state = {
					limit = {
						has_building = building_tooling_workshops
					}
					save_scope_as = toolmaking_state
				}
			}
		}
		#else_if = {
		#	limit = {
		#		any_trade_route = {
		#			importer.owner = root
		#			goods = g:tools
		#		}
		#	}
		#	any_trade_route = {
		#		importer.owner = root
		#		goods = g:tools
		#		exporter.owner = {
		#			random_scope_state = {
		#				limit = {
		#					any_scope_building = {
		#						is_building_type = building_tooling_workshops
		#					}
		#				}
		#				save_scope_as = toolmaking_state
		#			}
		#		}
		#	}
		#}
		else_if = {
			limit = {
				NOT = {
					any_scope_building = {
						is_building_type = building_tooling_workshops
					}
				}
			}
			random_state = {
				limit = {
					owner = {
						country_rank >= rank_value:great_power
					}
					is_incorporated = yes
					has_building = building_tooling_workshops
				}
				save_scope_as = toolmaking_state
			}
		}
		else = {
			random_scope_state = {
				limit = {
					has_building = building_tooling_workshops
				}
				save_scope_as = toolmaking_state
			}
		}
		random_state = {
			limit = {
				has_building = building_tooling_workshops
			}
			save_scope_as = foreign_toolmaking_state
		}
		random_scope_building = {
			limit = {
				is_building_type = building_tooling_workshops
			}
			save_scope_as = tooling_plant
		}
	}

	option = {
		name = cr_canadian_indian_treaties.9.a
		default_option = yes
		trigger = {
			has_law = law_type:law_interventionism
		}
		scope:copper_mining_state = {
			start_building_construction = building_tooling_workshops
			add_loyalists_in_state = {
				value = small_radicals
				pop_type = capitalists
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = {
		name = cr_canadian_indian_treaties.9.b
		scope:copper_mining_state = {
			start_privately_funded_building_construction = building_tooling_workshops
			add_radicals_in_state = {
				value = small_radicals
				pop_type = capitalists
			}
		}
		ai_chance = {
			base = 50
		}
	}
}

cr_canadian_indian_treaties.10 = { #The Robinson Treaties
	type = country_event
	placement = p:x313BB2

	title = cr_canadian_indian_treaties.10.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					has_truce_with = c:CTF
				}
				desc = cr_canadian_indian_treaties.10.desc_defeat
			}
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.10.desc
			}
		}
	}
	flavor = cr_canadian_indian_treaties.10.f

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_gold_prospectors.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/construction_colony"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	duration = 3

	trigger = {		
	}

	immediate = {
		scope:native_state = {
			every_scope_character = {
				limit = {
					NOT = { has_ideology = ideology:ideology_pacifist }
				}
				save_scope_as = native_state_threatener
			}
		}
		###Could perhaps autogenerate a Commissioner by the name of William Benjamin Robinson
		random_scope_character = {
			limit = {
				has_role = general
			}
			save_scope_as = victorious_general
		}
		scope:native_state = {
			change_tension = {
				country = root
				value = -100
			}
		}
	}

	option = {
		name = cr_canadian_indian_treaties.10.a
		trigger = {
			NOT = {
				has_truce_with = c:CTF
			}
		}
		hidden_effect = {
			create_truce = {
				country = scope:native_state
				months = normal_modifier_time
			}
		}
		add_modifier = {
			name = cr_treaty_annuities_robinson_treaty
		}
		hidden_effect = {
			scope:copper_mining_state = {
				remove_modifier = cr_unceded_territory_95
				remove_modifier = cr_unceded_territory_75
				remove_modifier = cr_unceded_territory_50
				remove_modifier = cr_unceded_territory_30
			}
			trigger_event = {
				id = cr_canadian_indian_treaties.99
				days = 0
			}
		}	
		ai_chance = {
			base = 10
		}
	}

	option = {
		name = cr_canadian_indian_treaties.10.b
		trigger = {
			NOT = {
				has_truce_with = c:CTF
			}
		}
		if= {
			limit = {
				NOT = {
					has_law = law_type:law_frontier_colonization
				}
			}
			activate_law = law_type:law_frontier_colonization
		}
		add_modifier = {
			name = cr_treaty_annuities
		}
		scope:native_state = {
			change_tension = {
				country = root
				value = 25
			}
		}
		scope:copper_mining_state = {
			add_radicals_in_state = {
				value = medium_radicals
				culture = cu:algonquian
			}
		}
		hidden_effect = {
			scope:copper_mining_state = {
				remove_modifier = cr_unceded_territory_95
				remove_modifier = cr_unceded_territory_75
				remove_modifier = cr_unceded_territory_50
				remove_modifier = cr_unceded_territory_30
			}
			trigger_event = {
				id = cr_canadian_indian_treaties.99
				days = 0
			}
		}	
		default_option = yes
		ai_chance = {
			base = 85
		}
	}

	option = {
		name = cr_canadian_indian_treaties.10.c
		trigger = {
			NOT = {
				has_truce_with = c:CTF
			}
		}
		scope:copper_mining_state = {
			add_radicals_in_state = {
				value = very_large_radicals
				culture = cu:algonquian
			}
		}
		scope:native_state = {
			change_tension = {
				country = root
				value = 50
			}
		}
		hidden_effect = {
			scope:copper_mining_state = {
				remove_modifier = cr_unceded_territory_95
				remove_modifier = cr_unceded_territory_75
				remove_modifier = cr_unceded_territory_50
				remove_modifier = cr_unceded_territory_30
			}
			trigger_event = {
				id = cr_canadian_indian_treaties.99
				days = 0
			}
		}	
		ai_chance = {
			base = 5
		}
	}

	option = {
		name = cr_canadian_indian_treaties.10.d
		trigger = {
			has_truce_with = c:CTF
		}
		if= {
			limit = {
				NOT = {
					has_law = law_type:law_colonial_exploitation
				}
			}
			activate_law = law_type:law_colonial_exploitation
		}
		scope:copper_mining_state = {
			add_radicals_in_state = {
				value = very_large_radicals
				culture = cu:algonquian
			}
		}
		hidden_effect = {
			scope:copper_mining_state = {
				remove_modifier = cr_unceded_territory_95
				remove_modifier = cr_unceded_territory_75
				remove_modifier = cr_unceded_territory_50
				remove_modifier = cr_unceded_territory_30
			}
			trigger_event = {
				id = cr_canadian_indian_treaties.99
				days = 0
			}
		}	
		ai_chance = {
			base = 95
		}
	}

	option = {
		name = cr_canadian_indian_treaties.10.e
		trigger = {
			has_truce_with = c:CTF
		}
		if= {
			limit = {
				NOT = {
					has_law = law_type:law_frontier_colonization
				}
			}
			activate_law = law_type:law_frontier_colonization
		}
		add_modifier = {
			name = cr_treaty_annuities
		}
		scope:copper_mining_state = {
			add_radicals_in_state = {
				value = medium_radicals
				culture = cu:algonquian
			}
		}
		hidden_effect = {
			scope:copper_mining_state = {
				remove_modifier = cr_unceded_territory_95
				remove_modifier = cr_unceded_territory_75
				remove_modifier = cr_unceded_territory_50
				remove_modifier = cr_unceded_territory_30
			}
			trigger_event = {
				id = cr_canadian_indian_treaties.99
				days = 0
			}
		}	
		default_option = yes
		ai_chance = {
			base = 5
		}
	}
}


cr_canadian_indian_treaties.20 = { #The Numbered Treaties
	type = country_event
	placement = scope:target_state

	title = cr_canadian_indian_treaties.20.t
	desc = cr_canadian_indian_treaties.20.desc
	flavor = cr_canadian_indian_treaties.20.f

	event_image = {
		video = "gfx/event_pictures/unspecific_signed_contract.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/construction_colony"

	icon = "gfx/interface/icons/event_icons/event_map.dds"

	duration = 3

	trigger = {
		NOT = {
			has_variable = cr_numbered_treaties_cooldown
		}
		any_scope_state = {
			OR = {
				region = sr:region_canada
				region = sr:region_ruperts_land
			}
			owner = {
				is_country_type = decentralized
				NOT = {
					has_truce_with = ROOT
				}
			}
			OR = {
				has_modifier = cr_unceded_territory_95
				has_modifier = cr_unceded_territory_75
				has_modifier = cr_unceded_territory_50
				has_modifier = cr_unceded_territory_30
			}
		}
	}

	immediate = {
		random_state = {
			limit = {
				OR = {
					region = sr:region_canada
					region = sr:region_ruperts_land
				}
				owner = {
					is_country_type = decentralized
					NOT = {
						has_truce_with = ROOT
					}
				}
				any_neighbouring_state = {
					owner = ROOT
				}
				OR = {
					has_modifier = cr_unceded_territory_95
					has_modifier = cr_unceded_territory_75
					has_modifier = cr_unceded_territory_50
					has_modifier = cr_unceded_territory_30
				}
			}
			save_scope_as = target_state
		}
		scope:target_state.owner = {
			save_scope_as = native_state
		}
		scope:native_state.ruler = {
			save_scope_as = native_ruler
		}
		random_state = {
			limit = {
				owner = ROOT
				any_neighbouring_state = { 
					this = scope:target_state
				}
			}
			save_scope_as = cr_numbered_treaties_owned_state
		}
		set_variable = {
			name = cr_numbered_treaties_cooldown
			days = 750
		}
	}

	option = {
		name = cr_canadian_indian_treaties.20.a
		default_option = yes
		create_diplomatic_pact = {
			country = scope:native_state
			type = colonization_rights
		}
		if = {
			limit = {
				has_modifier = cr_pushing_numbered_treaties
			}
			remove_modifier = cr_pushing_numbered_treaties
		}
		scope:cr_numbered_treaties_owned_state = {
			if = {
				limit = {
					has_modifier = cr_unceded_territory_95
				}
				remove_modifier = cr_unceded_territory_95
				add_modifier = {
					name = cr_unceded_territory_50	
				}
			}
			else_if = {
				limit = {
					has_modifier = cr_unceded_territory_50
				}
				remove_modifier = cr_unceded_territory_50
				add_modifier = {
					name = cr_unceded_territory_30	
				}
			}
			else_if = {
				limit = {
					has_modifier = cr_unceded_territory_30
				}
				remove_modifier = cr_unceded_territory_30
			}
			else = {
			
			}
		}
		#hidden_effect = {
			scope:target_state = {
				remove_modifier = cr_unceded_territory_95
				remove_modifier = cr_unceded_territory_75
				remove_modifier = cr_unceded_territory_50
				remove_modifier = cr_unceded_territory_30			
			}
		#}
		
		hidden_effect = {
			change_global_variable = {
				name = cr_numbered_treaties_counter
				add = 1
			}
		}
	
		ai_chance = {
			base = 80
		}
	}

	option = {
		name = cr_canadian_indian_treaties.20.b
		create_truce = {
			country = scope:native_state
			months = normal_modifier_time
		}
		create_diplomatic_pact = {
			country = scope:native_state
			type = colonization_rights
			#months = normal_modifier_time
		}
		scope:cr_numbered_treaties_owned_state = {
			if = {
				limit = {
					has_modifier = cr_unceded_territory_95
				}
				remove_modifier = cr_unceded_territory_95
				add_modifier = {
					name = cr_unceded_territory_30	
				}
			}
			else_if = {
				limit = {
					has_modifier = cr_unceded_territory_50
				}
				remove_modifier = cr_unceded_territory_50
			}
			else_if = {
				limit = {
					has_modifier = cr_unceded_territory_30
				}
				remove_modifier = cr_unceded_territory_30
			}
			else = {
			
			}
		}
		
		if = {
			limit = {
				NOT = { has_modifier = cr_pushing_numbered_treaties }
			}
			add_modifier = {
				name = cr_pushing_numbered_treaties
			}
		}
		hidden_effect = {
			scope:target_state = {
				remove_modifier = cr_unceded_territory_95
				remove_modifier = cr_unceded_territory_75
				remove_modifier = cr_unceded_territory_50
				remove_modifier = cr_unceded_territory_30			
			}
		}
		hidden_effect = {
			change_global_variable = {
				name = cr_numbered_treaties_counter
				add = 1
			}
		}
		ai_chance = {
			base = 15
			modifier = {
				factor = 0
				authority < 175
			}
			modifier = {
				factor = 2
				authority > 300
			}
		}
	}

	option = {
		name = cr_canadian_indian_treaties.20.c
		if = {
			limit = {
				has_modifier = cr_pushing_numbered_treaties
			}
			remove_modifier = cr_pushing_numbered_treaties
		}	
		scope:native_state = {
			change_tension = {
				country = root
				value = -50
			}
		}

		ai_chance = {
			base = 5
		}
	}
}

cr_canadian_indian_treaties.50 = { #The Man on the River
	type = country_event
	placement = p:x92e099

	title = cr_canadian_indian_treaties.50.t
	desc = cr_canadian_indian_treaties.50.summary
	flavor = {
		random_valid = {
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.50.flavour_1
			}
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.50.flavour_2
			}
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.50.flavour_2
			}
		}


	}
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/construction_colony"

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	event_image = {
		texture = "gfx/event_pictures/cr_north_american_fur_trader.dds"
	}
	
	duration = 3

	immediate = {
		set_global_variable = cr_north_american_fur_trade_has_ended
		save_scope_as = fur_declining_country
		c:ATB = {
			save_scope_as = cr_fur_trading_country
		}
		random_scope_state = {
			limit = { state_region = s:STATE_MANITOBA }
			save_scope_as = manitoba
			random_scope_building = {
				limit = {
					is_building_type = building_fur_trading_post
				}
				save_scope_as = fur_trading_post
			}
		}
		sr:region_ruperts_land = {
			save_scope_as = ruperts_land
		}
	}

	trigger = {
		NOT = {
			has_global_variable = cr_north_american_fur_trade_has_ended
		}
		year > 1840
		c:HBC = ROOT
		OR = {
			has_technology_researched = realism
			top_overlord = {
				has_technology_researched = realism
			}
		}
		NOT = {
			has_war_with = c:CHI
		}
	}

	option = {
		name = cr_canadian_indian_treaties.50.a
		custom_tooltip = {
			text = cr_canadian_indian_treaties.50.a_tt
			every_scope_state = {
				remove_building = building_fur_trading_post	
				force_resource_depletion = bg_fur_trading_post		
			}
			top_overlord = {
				trigger_event = { id = cr_canadian_indian_treaties.52 days = 3 }
			}
			c:ORG = {
				trigger_event = { id = cr_canadian_indian_treaties.51 days = 3 }
			}
		}
	}
}

cr_canadian_indian_treaties.51 = { #The Man on the River - Columbia District
	type = country_event
	placement = p:x3575A8

	title = cr_canadian_indian_treaties.50.t
	desc = cr_canadian_indian_treaties.50.summary
	flavor = {
		random_valid = {
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.50.flavour_1
			}
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.50.flavour_2
			}
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.50.flavour_3
			}
		}


	}
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/construction_colony"

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	event_image = {
		texture = "gfx/event_pictures/cr_north_american_fur_trader.dds"
	}
	
	duration = 3

	immediate = {
		save_scope_as = fur_declining_country
		c:CSC = {
			save_scope_as = cr_fur_trading_country
		}
		random_scope_state = {
			limit = { state_region = s:STATE_WASHINGTON }
			save_scope_as = washington
			random_scope_building = {
				limit = {
					is_building_type = building_fur_trading_post
				}
				save_scope_as = fur_trading_post
			}
		}
		sr:region_ruperts_land = {
			save_scope_as = ruperts_land
		}
		sr:region_pacific_coast = {
			save_scope_as = pacific_coast
		}
	}

	trigger = {
	}

	option = {
		name = cr_canadian_indian_treaties.50.a
		custom_tooltip = {
			text = cr_canadian_indian_treaties.51.a_tt
			every_scope_state = {
				remove_building = building_fur_trading_post	
				force_resource_depletion = bg_fur_trading_post		
			}		
		}
	}
}

cr_canadian_indian_treaties.52 = { #The Man on the River
	type = country_event
	placement = p:x92e099

	title = cr_canadian_indian_treaties.50.t
	desc = cr_canadian_indian_treaties.50.summary
	flavor = {
		random_valid = {
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.50.flavour_1
			}
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.50.flavour_2
			}
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.50.flavour_3
			}
		}
	}
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/construction_colony"

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	event_image = {
		texture = "gfx/event_pictures/cr_north_american_fur_trader.dds"
	}
	
	duration = 3

	immediate = {
		c:HBC = {
			save_scope_as = fur_declining_country
		}
		c:ORG = {
			save_scope_as = columbia_district
		}
		random_scope_state = {
			limit = { state_region = s:STATE_WASHINGTON }
			save_scope_as = washington
			random_scope_building = {
				limit = {
					is_building_type = building_fur_trading_post
				}
				save_scope_as = fur_trading_post
			}
		}
		sr:region_canada = {
			save_scope_as = canada
		}
		sr:region_ruperts_land = {
			save_scope_as = ruperts_land
		}
		sr:region_pacific_coast = {
			save_scope_as = pacific_coast
		}
	}

	trigger = {
	}

	option = {
		name = cr_canadian_indian_treaties.50.a
		custom_tooltip = {
			text = cr_canadian_indian_treaties.52.a_tt
			every_scope_state = {
				remove_building = building_fur_trading_post	
				force_resource_depletion = bg_fur_trading_post		
			}		
		}
	}
}

