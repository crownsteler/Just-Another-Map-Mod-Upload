namespace = cr_canadian_indian_treaties

cr_canadian_indian_treaties.99 = { #cleanup event
	type = country_event
	hidden = yes
	immediate = {
		remove_global_variable = cr_robinson_treaty_var
		remove_global_variable = cr_ojibwe_petition_against_mines_has_happened
		remove_global_variable = cr_papineau_report_has_been_published
		remove_modifier = cr_eyeing_unceded_land
		remove_variable = cr_lake_superior_cooldown
		remove_variable = cr_lake_superior_mining_permits_cooldown
		remove_variable = cr_lake_superior_surveyor_threatend_cooldown
		remove_variable = cr_lake_superior_incident_at_coppermine_cooldown
		remove_variable = cr_lake_superior_copper_rebellion_cooldown
		remove_variable = cr_lake_superior_mining_tails_cooldown
		remove_variable = cr_lake_superior_copper_rush_tools_of_trade
		remove_variable = cr_lake_superior_rush_has_happened
		#remove cr_lake_superior_rush_has_happened from Ontario
		#remove cr_lake_superior_rush_has_happened from Michigan
		if = {
			limit = {
				is_ai = yes
				has_law = law_type:law_no_colonial_affairs
			}
			activate_law = law_type:law_colonial_resettlement
		}
	}
}

cr_canadian_indian_treaties.96 = { #Force Copper discovery in Detroit/Ontario
	type = country_event
	hidden = yes
	trigger = {
		s:STATE_MICHIGAN = {
			NOT = {
				has_variable = copper_discovered
			}
		}
		game_date > 1840.1.1
	}
	immediate = {
		s:STATE_MICHIGAN = {
			set_variable = copper_discovered
			random_scope_state = {
				force_resource_discovery = bg_copper_mining
			}
		}	
	}
}

cr_canadian_indian_treaties.98 = { #Rock of the Ages / The Ontonagon Boulder
	type = state_event
	placement = p:x6486dd

	title = cr_canadian_indian_treaties.0.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = {
						state_region = s:STATE_MICHIGAN
					}
				}
				desc = cr_canadian_indian_treaties.0.desc
			}
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.0.desc_michigan
			}
		}
	}
	
	flavor = {
		random_valid = {
			#triggered_desc = {
			#	trigger = {
			#		always = yes
			#	}
			#	desc = cr_canadian_indian_treaties.0.f
			#}
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.0.f_2
			}
		}	
	}

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_gold_prospectors.bk2"
	}

	icon = "gfx/interface/icons/event_icons/event_map.dds"

	duration = 3

	trigger = {
		NOR = {
			has_variable = cr_lake_superior_rush_has_happened
			owner = {
				has_variable = cr_lake_superior_rush_has_happened
			}
		}
		OR = {
			state_region = s:STATE_ONTARIO
			state_region = s:STATE_MICHIGAN
		}
	}

	immediate = {
		set_variable = cr_lake_superior_rush_has_happened
		if = {
			limit = {
				state_region = s:STATE_ONTARIO
			}
			save_scope_as = ontario
			random_state = {
				limit = {
					state_region = s:STATE_MICHIGAN
					owner = {
						is_country_type = recognized
					}
				}
				save_scope_as = michigan
			}
		}
		if = {
			limit = {
				state_region = s:STATE_MICHIGAN
			}
			save_scope_as = michigan
			random_state = {
				limit = {
					state_region = s:STATE_ONTARIO
					owner = {
						is_country_type = recognized
					}
				}
				save_scope_as = ontario
			}
		}
		c:CTF = {
			save_scope_as = copper_finders
		}
	}

	option = {
		name = cr_canadian_indian_treaties.0.a
		owner = {
			set_variable = cr_lake_superior_rush_has_happened
			if = {
				limit = {
					OR = {
						country_has_primary_culture = cu:franco_canadian
						country_has_primary_culture = cu:anglo_canadian
					}
					NOT = {
						has_journal_entry = je_cr_robinson_treaties
					}
				}
				add_journal_entry = {
					type = je_cr_robinson_treaties
				}
			}
		}
		add_modifier = {
			name = cr_lake_superior_copper_rush_michigan
			months = normal_modifier_time
		}
		custom_tooltip = {
			text = cr_canadian_indian_treaties.0.a_tt
			random_state = {
				limit = {
					state_region = s:STATE_MICHIGAN
				}
				force_resource_discovery = bg_copper_mining
			}
			random_state = {
				limit = {
					state_region = s:STATE_ONTARIO
				}
				force_resource_discovery = bg_copper_mining
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = {
		name = cr_canadian_indian_treaties.0.b
		trigger = {
			owner = {
				OR = {
					country_has_primary_culture = cu:yankee
					country_has_primary_culture = cu:dixie
				}
			}
			any_state = {
				state_region = s:STATE_ONTARIO
				NOT = {
					has_variable = cr_lake_superior_rush_has_happened
				}
			}
		}
		default_option = yes
		random_state = {
			limit = {
				state_region = s:STATE_MICHIGAN
			}
			force_resource_discovery = bg_copper_mining
		}
		owner = {
			set_variable = cr_lake_superior_rush_has_happened
			custom_tooltip = cr_canadian_indian_treaties.0.b_tt
			#add_modifier = {
			#	name = cr_lake_superior_copper_rush_ontonagon_boulder
			#	months = long_modifier_time
			#}
		}
		ai_chance = {
			base = 10
			modifier = {
				add = 10
				c:USA ?= this
			}
			modifier = {
				add = 25
				NOT = {
					has_law = law_type:law_laissez_faire
				}
			}
			modifier = {
				add = 25
				NOT = {
					has_law = law_type:law_free_trade
				}
			}
		}
	}
}

cr_canadian_indian_treaties.1 = { #Mining Permit
	type = country_event
	placement = ROOT

	title = cr_canadian_indian_treaties.1.t
	desc = cr_canadian_indian_treaties.1.desc
	flavor = cr_canadian_indian_treaties.1.f

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_gold_prospectors.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/construction_colony"

	icon = "gfx/interface/icons/event_icons/event_industry.dds"

	duration = 3
	
	cooldown = {
		months = 6
	}

	trigger = {
		NOT = {
			has_variable = cr_lake_superior_cooldown
		}
		NOT = {
			has_variable = cr_lake_superior_mining_permits_cooldown
		}
		NOT = {
			has_war_with = c:CTF
		}
		#construction_queue_private_duration < 52 
		#scope:copper_mining_state = {
		#	any_scope_building = {
		#		is_building_type = building_copper_mine
		#		can_queue_building_levels = 1
		#	}
		#}
		OR = {
			scope:copper_mining_state = {
				NOT = { has_building = building_copper_mine }
			}
			scope:copper_mining_state = {
				any_scope_building = {
					is_building_type = building_copper_mine
					NOT = { is_under_construction = yes }
				}
			}
			AND = {
				scope:copper_mining_state = {
					any_scope_building = {
						is_building_type = building_copper_mine
						is_under_construction = yes
					}
				}
				investment_pool < 40000
			}
			AND = {
				is_ai = yes
				investment_pool < 40000
			}
		}
	}

	immediate = {
		#random_political_movement = {
		#	limit = {
		#		is_political_movement_type = movement_to_preserve
		#	}
		#	save_scope_as = rally_movement
		#}
	}

	option = {
		name = cr_canadian_indian_treaties.1.a
		scope:native_state = {
			change_tension = {
				country = root
				value = 10
			}
		}
		if = { #Helping the AI out a bit.
			limit = { is_ai = yes }
			scope:copper_mining_state = {
				if = {
					limit = {
						NOT = { has_building = building_copper_mine }
					}
					create_building = {
						building = building_copper_mine
						level = 1
					}
				}
				else = {
					start_privately_funded_building_construction = building_copper_mine
					ROOT = {
						add_investment_pool = 100000
					}
				}
			}
		}
		else_if = { #mining permits attracting new investment
			limit = {
				scope:copper_mining_state = {
					AND = {
						any_scope_building = {
							is_building_type = building_copper_mine
							is_under_construction = yes
						}
					}
				}
				investment_pool < 35000
			}
			ROOT = {
				add_investment_pool = 40000
			}
		}
		else = {
			ROOT = {
				if = {
					limit = {
						investment_pool < 45000
					}
					add_investment_pool = 50000	
				}
				else = {
					
				}
			}
			scope:copper_mining_state = {
				start_privately_funded_building_construction = building_copper_mine
			}
		}
		if = {
			limit = {
				has_modifier = cr_laws_upholding_native_land_rights
			}
			remove_enactment_modifier = cr_laws_upholding_native_land_rights
		}
		ig:ig_industrialists = {
			if = {
				limit = {
					NOR = {
						has_modifier = cr_approved_mining_permits
						has_modifier = cr_denied_mining_permits
					}
				}
				add_modifier = {
					name = cr_approved_mining_permits
					months = short_modifier_time
				}
			}
			else_if = {
				limit = {
					has_modifier = cr_denied_mining_permits
				}
				remove_modifier = cr_denied_mining_permits
				add_modifier = {
					name = cr_approved_mining_permits
					months = short_modifier_time
				}
			}
		}
		if = {
			limit = {
				has_law = law_type:law_no_colonial_affairs
				OR = {
					is_enacting_law = law_type:law_frontier_colonization
					is_enacting_law = law_type:law_colonial_exploitation
					is_enacting_law = law_type:law_colonial_resettlement
				}
			}
			random_political_movement = {
				limit = {
					is_political_movement_type = movement_to_preserve
					NOT = { has_modifier = cr_laws_granted_mining_permits_movement }
				}
				add_modifier = {
					name = cr_laws_granted_mining_permits_movement
					months = normal_modifier_time
				}
			}
		}
		if = {
			limit = {
				any_political_movement = {
					is_political_movement_type = movement_to_enact
					desired_law = law_type:law_frontier_colonization
					NOT = { has_modifier = cr_laws_granted_mining_permits_movement_likes }
				}
			}
			random_political_movement = {
				limit = {
					is_political_movement_type = movement_to_enact
					desired_law = law_type:law_frontier_colonization
				}
				add_modifier = {
					name = cr_laws_granted_mining_permits_movement_likes
					months = normal_modifier_time
				}
			}
		}
		hidden_effect = {
			change_global_variable = {
				name = cr_robinson_treaty_var
				add = 1
			}
		}
		default_option = yes
		ai_chance = {
			base = 85
			modifier = {
				factor = 0
				any_political_movement = {
					political_movement_radicalism > 0.6
					is_political_movement_type = movement_to_preserve
				}
			}
		}
	}

	option = {
		name = cr_canadian_indian_treaties.1.b
		if = {
			limit = {
				NOT = {
					has_modifier = cr_laws_upholding_native_land_rights
				}
				OR = {
					is_enacting_law = law_type:law_frontier_colonization
					is_enacting_law = law_type:law_colonial_exploitation
					is_enacting_law = law_type:law_colonial_resettlement
				}
			}
			add_enactment_modifier = {
				name = cr_laws_upholding_native_land_rights
			}
		}
		else = {
			ig:ig_industrialists = {
				if = {
					limit = {
						NOR = {
							has_modifier = cr_approved_mining_permits
							has_modifier = cr_denied_mining_permits
						}
					}
					add_modifier = {
						name = cr_denied_mining_permits
						months = short_modifier_time
					}
				}
				else_if = {
					limit = {
						has_modifier = cr_approved_mining_permits
					}
					remove_modifier = cr_approved_mining_permits
					add_modifier = {
						name = cr_denied_mining_permits
						months = short_modifier_time
					}
				}
				else = {
					add_modifier = {
						name = cr_denied_mining_permits
						months = short_modifier_time
					}
				}
			}
		}
		scope:copper_mining_state = {
			hidden_effect = {
				remove_modifier = cr_mining_permit_denied
			}
			add_modifier = {
				name = cr_mining_permit_denied
				months = short_modifier_time
			}
		}
		random_political_movement = {
			limit = {
				is_political_movement_type = movement_to_preserve
				#has_modifier = cr_laws_granted_mining_permits_movement
			}
			remove_modifier = cr_laws_granted_mining_permits_movement
		}
		ai_chance = {
			base = 15
			modifier = {
				factor = 5
				any_political_movement = {
					political_movement_radicalism > 0.6
					is_political_movement_type = movement_to_preserve
				}
			}
		}
	}
}

cr_canadian_indian_treaties.2 = { #Surveyor Threatened
	type = country_event
	placement = p:x313BB2

	title = cr_canadian_indian_treaties.2.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					has_law = law_type:law_laissez_faire
				}
				desc = cr_canadian_indian_treaties.2.desc_industrialists
			}
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.2.desc
			}
		}
	}
	flavor = cr_canadian_indian_treaties.2.f

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_native_american.bk2"
	}

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3
	
	cooldown = {
		months = 7
	}

	trigger = {
		NOT = {
			has_variable = cr_lake_superior_cooldown
		} 
		NOT = {
			has_war_with = c:CTF
		}
		scope:copper_mining_state = {
			any_scope_building = {
				is_building_type = building_copper_mine
				is_under_construction = yes
			}
		}
	}

	immediate = {
		scope:native_state = {
			random_scope_character = {
				limit = {
					NOT = { 
						has_ideology = ideology:ideology_pacifist 
						has_trait = trait_child
					}
				}
				save_scope_as = native_state_threatener
			}
		}
		scope:copper_mining_state = {
			random_scope_building = {
				limit = {
					is_building_type = building_copper_mine
					is_under_construction = yes	
				}
				save_scope_as = under_construction_mine
			}
		}
	}

	option = {
		name = cr_canadian_indian_treaties.2.a
		default_option = yes
		scope:native_state = {
			change_tension = {
				country = root
				value = 10
			}
		}
		if = {
			limit = {
				scope:copper_mining_state = {
					AND = {
						any_scope_building = {
							is_building_type = building_copper_mine
							is_under_construction = yes
						}
					}
				}
				investment_pool < 25000
			}
			add_investment_pool = 30000
			set_variable = {
				name = cr_lake_superior_mining_permits_cooldown
				months = 3
			}
		}
		if = {
			limit = {
				NOT = {
					has_modifier = cr_laws_pressing_on
				}
				OR = {
					is_enacting_law = law_type:law_frontier_colonization
					is_enacting_law = law_type:law_colonial_exploitation
					is_enacting_law = law_type:law_colonial_resettlement
				}
			}
			add_enactment_modifier = {
				name = cr_laws_pressing_on
			}
		}
		if = {
			limit = {
				any_political_movement = {
					is_political_movement_type = movement_to_enact
					desired_law = law_type:law_frontier_colonization
					NOT = { has_modifier = cr_laws_surveyors_threatend }
				}
			}
			random_political_movement = {
				limit = {
					is_political_movement_type = movement_to_enact
					desired_law = law_type:law_frontier_colonization
				}
				add_modifier = {
					name = cr_laws_surveyors_threatend
				}
			}
		}
		hidden_effect = {
			change_global_variable = {
				name = cr_robinson_treaty_var
				add = 1
			}
		}
		ai_chance = {
			base = 85
			modifier = {
				factor = 0.25
				any_political_movement = {
					political_movement_radicalism > 0.6
					is_political_movement_type = movement_to_preserve
				}
			}
		}
	}

	option = { #should slow down construction somehow
		name = cr_canadian_indian_treaties.2.b
		if = {
			limit = {
				has_law = law_type:law_no_colonial_affairs
				OR = {
					is_enacting_law = law_type:law_frontier_colonization
					is_enacting_law = law_type:law_colonial_exploitation
					is_enacting_law = law_type:law_colonial_resettlement
				}
			}
			random_political_movement = {
				limit = {
					is_political_movement_type = movement_to_preserve
					NOT = { has_modifier = cr_laws_deescalation }
				}
				add_modifier = {
					name = cr_laws_deescalation
				}
			}
		}
		else_if = {
			limit = {
				any_political_movement = {
					is_political_movement_type = movement_to_enact
					desired_law = law_type:law_frontier_colonization
					NOT = { has_modifier = cr_laws_caved_to_native_pressure }
				}
			}
			random_political_movement = {
				limit = {
					is_political_movement_type = movement_to_enact
					desired_law = law_type:law_frontier_colonization
				}
				add_modifier = {
					name = cr_laws_caved_to_native_pressure
				}
			}
		}
		else = {
			scope:copper_mining_state = {
				add_radicals_in_state = {
					value = small_radicals
					pop_type = capitalists
				}
			}
		}
		if = {
			limit = {
				scope:copper_mining_state = {
					AND = {
						any_scope_building = {
							is_building_type = building_copper_mine
							is_under_construction = yes
						}
					}
				}
				investment_pool >20000
			}
			add_investment_pool = -20000
			set_variable = {
				name = cr_lake_superior_mining_permits_cooldown
				months = 4
			}
		}
		hidden_effect = {
		
		}
		ai_chance = {
			base = 15
			modifier = {
				factor = 5
				any_political_movement = {
					political_movement_radicalism > 0.6
					is_political_movement_type = movement_to_preserve
				}
			}
		}
	}
}

cr_canadian_indian_treaties.3 = { #Ojibwe Petition
	type = country_event
	placement = ROOT

	title = cr_canadian_indian_treaties.3.t
	desc = cr_canadian_indian_treaties.3.desc
	flavor = cr_canadian_indian_treaties.3.f

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_native_american.bk2"
	}

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	duration = 3

	trigger = {
		NOT = {
			has_variable = cr_lake_superior_cooldown
		}
		NOT = {
			has_global_variable = cr_ojibwe_petition_against_mines_has_happened
		}
		NOT = {
			has_war_with = c:CTF
		}
		scope:copper_mining_state = {
			any_scope_building = {
				is_building_type = building_copper_mine
				level >= 1
				is_under_construction = yes
			}
		}
	}

	immediate = {
		scope:native_state = {
			random_scope_character = {
				limit = {
					NOT = { 
						has_ideology = ideology:ideology_pacifist 
						has_trait = trait_child
					}
				}
				save_scope_as = native_state_petitioner
			}
		}
		set_global_variable = cr_ojibwe_petition_against_mines_has_happened
	}

	option = {
		name = cr_canadian_indian_treaties.3.a
		default_option = yes
		
		scope:native_state = {
			change_tension = {
				country = root
				value = 10
			}
		}
		if = {
			limit = {
				is_ai = yes
				investment_pool < 20000
			}
			add_investment_pool = 30000
		}
		hidden_effect = {
			change_global_variable = {
				name = cr_robinson_treaty_var
				add = 1
			}
		}
		ai_chance = {
			base = 85
			modifier = {
				factor = 0.5
				any_political_movement = {
					political_movement_radicalism > 0.6
					is_political_movement_type = movement_to_preserve
				}
			}
		}
	}

	option = {
		name = cr_canadian_indian_treaties.3.b
		
		if = {
			limit = {
				NOT = {
					has_modifier = cr_laws_native_ownership_share
				}
				OR = {
					is_enacting_law = law_type:law_frontier_colonization
					is_enacting_law = law_type:law_colonial_exploitation
					is_enacting_law = law_type:law_colonial_resettlement
				}
			}
			add_enactment_modifier = {
				name = cr_laws_negotiating_native_bands
			}
		}
		if = {
			limit = {
				has_law = law_type:law_no_colonial_affairs
				OR = {
					is_enacting_law = law_type:law_frontier_colonization
					is_enacting_law = law_type:law_colonial_exploitation
					is_enacting_law = law_type:law_colonial_resettlement
				}
			}
			random_political_movement = {
				limit = {
					is_political_movement_type = movement_to_preserve
					NOT = { has_modifier = cr_laws_supporting_native_bands_positive }
				}
				add_modifier = {
					name = cr_laws_supporting_native_bands_positive
				}
			}
		}
		else_if = {
			limit = {
				any_political_movement = {
					is_political_movement_type = movement_to_enact
					desired_law = law_type:law_frontier_colonization
					NOT = { has_modifier = cr_laws_supporting_native_bands_negative }
				}
			}
			random_political_movement = {
				limit = {
					is_political_movement_type = movement_to_enact
					desired_law = law_type:law_frontier_colonization
				}
				add_modifier = {
					name = cr_laws_supporting_native_bands_negative
				}
			}
		}
		else = {
			cr_canadian_treaty_annuities_effect = yes
		}

		ai_chance = {
			base = 15
			modifier = {
				factor = 4
				any_political_movement = {
					political_movement_radicalism > 0.6
					is_political_movement_type = movement_to_preserve
				}
			}
		}
	}
}

cr_canadian_indian_treaties.4 = { #On the Legal Ownership of Lands on Lake Superior/Papineau Report
	type = country_event
	placement = ROOT

	title = cr_canadian_indian_treaties.4.t
	desc = cr_canadian_indian_treaties.4.desc
	flavor = cr_canadian_indian_treaties.4.flavour

	event_image = {
		video = "unspecific_signed_contract"
	}

	icon = "gfx/interface/icons/event_icons/event_scales.dds"

	duration = 3

	trigger = {
		NOT = {
			has_variable = cr_lake_superior_cooldown
			has_global_variable = cr_papineau_report_has_been_published
		}
		is_enacting_law = law_type:law_frontier_colonization
		OR = {
			ROOT = c:QUE
			NOT = {
				has_law = law_type:law_censorship
				has_law = law_type:law_national_supremacy
			}
		}
	}

	immediate = {
		set_global_variable = cr_papineau_report_has_been_published
	}

	option = {
		name = cr_canadian_indian_treaties.4.a
		default_option = yes
		
		scope:native_state = {
			change_tension = {
				country = root
				value = -10
			}
		}
		add_radicals = {
			value = small_radicals
			culture = scope:ruling_culture
		}
		ai_chance = {
			base = 85
		}
	}

	option = {
		name = cr_canadian_indian_treaties.4.b
		add_enactment_modifier = {
			name = cr_laws_papineau_report
		}
		scope:native_state = {
			change_tension = {
				country = root
				value = 20
			}
		}
		s:STATE_ONTARIO = {
			add_claim = c:QUE
			add_homeland = cu:franco_canadian
		}
		add_loyalists = {
			value = small_radicals
			culture = scope:ruling_culture
		}
		add_radicals = {
			value = small_radicals
			culture = scope:anglo_culture
		}
		hidden_effect = {
			change_global_variable = {
				name = cr_robinson_treaty_var
				add = 2
			}
		}

		ai_chance = {
			base = 15
		}
	}
}

cr_canadian_indian_treaties.5 = { #Incident at the Copper Mine/Mica Bay Incident
	type = country_event
	placement = p:x313BB2

	title = cr_canadian_indian_treaties.5.t
	desc = cr_canadian_indian_treaties.5.desc
	flavor = cr_canadian_indian_treaties.5.f

	event_image = {
		video = "europenorthamerica_native_american"
	}

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	duration = 3
	cooldown = {
		months = 12
	}

	trigger = {
		NOT = {
			has_war_with = c:CTF
		}
		global_var:cr_robinson_treaty_var > 5
		scope:copper_mining_state = {
			any_scope_building = {
				is_building_type = building_copper_mine
				level >= 1
			}
		}	
	}

	immediate = {
		scope:native_state = {
			random_scope_character = {
				limit = {
					NOT = { 
						has_ideology = ideology:ideology_pacifist 
						has_trait = trait_child
					}
				}
				save_scope_as = native_state_threatener
			}
		}
		scope:copper_mining_state = {
			random_scope_building = {
				limit = {
					is_building_type = building_copper_mine
					level >= 1
				}
				save_scope_as = contested_mine
			}
		}	
	}

	option = {
		name = cr_canadian_indian_treaties.5.a #should reduce building level by 1, now reduces investment pool
		custom_tooltip = cr_canadian_indian_treaties.5.a_tt
		scope:native_state = {
			change_tension = {
				country = root
				value = 10
			}
		}
		if = {
			limit = {
				has_law = law_type:law_no_colonial_affairs
				OR = {
					is_enacting_law = law_type:law_frontier_colonization
					is_enacting_law = law_type:law_colonial_exploitation
					is_enacting_law = law_type:law_colonial_resettlement
				}
			}
			random_political_movement = {
				limit = {
					is_political_movement_type = movement_to_preserve
					NOT = { has_modifier = cr_laws_mines_closed_positive }
				}
				add_modifier = {
					name = cr_laws_mines_closed_positive 
				}
			}
		}
		else_if = {
			limit = {
				any_political_movement = {
					is_political_movement_type = movement_to_enact
					desired_law = law_type:law_frontier_colonization
					NOT = { has_modifier = cr_laws_mines_closed_negative }
				}
			}
			random_political_movement = {
				limit = {
					is_political_movement_type = movement_to_enact
					desired_law = law_type:law_frontier_colonization
				}
				add_modifier = {
					name = cr_laws_mines_closed_negative
					months = normal_modifier_time
				}
			}
		}
		scope:mining_ig = {
			add_modifier = {
				name = cr_surrendered_to_native_demands
				months = normal_modifier_time
			}		
		}
		if = {
			limit = {
				investment_pool >100000
			}
			add_investment_pool = -100000
		}
		else_if = {
			limit = {
				investment_pool >90000
			}
			add_investment_pool = -90000
		}
		else_if = {
			limit = {
				investment_pool >80000
			}
			add_investment_pool = -80000
		}
		else_if = {
			limit = {
				investment_pool >70000
			}
			add_investment_pool = -70000
		}
		else_if = {
			limit = {
				investment_pool >50000
			}
			add_investment_pool = -50000
		}
		else_if = {
			limit = {
				investment_pool >40000
			}
			add_investment_pool = -40000
		}
		else_if = {
			limit = {
				investment_pool >30000
			}
			add_investment_pool = -30000
		}
		else_if = {
			limit = {
				investment_pool >20000
			}
			add_investment_pool = -20000
		}
		else_if = {
			limit = {
				investment_pool >10000
			}
			add_investment_pool = -10000
		}
		else_if = {
			limit = {
				investment_pool >5000
			}
			add_investment_pool = -5000
		}
		else_if = {
			limit = {
				investment_pool >1000
			}
			add_investment_pool = -1000
		}
		hidden_effect = {
			change_global_variable = {
				name = cr_robinson_treaty_var
				add = 1
			}
			set_variable = {
				name = cr_lake_superior_mining_permits_cooldown
				months = 12
			}
		}
		default_option = yes
		ai_chance = {
			base = 85
		}
	}

	option = {
		name = cr_canadian_indian_treaties.5.b
		custom_tooltip = cr_canadian_indian_treaties.5.b_tt
		scope:contested_mine = {
			if = {
				limit = {
					NOT = {
						has_modifier = cr_native_land_payments_building
					}
				}
				add_modifier = { 
					name = cr_native_land_payments_building
					months = very_long_modifier_time
				}
			}
		}	
		scope:native_state = {
			change_tension = {
				country = root
				value = -10
			}
		}
		if = {
			limit = {
				NOT = {
					has_modifier = cr_laws_native_ownership_share
				}
				OR = {
					is_enacting_law = law_type:law_frontier_colonization
					is_enacting_law = law_type:law_colonial_exploitation
					is_enacting_law = law_type:law_colonial_resettlement
				}
			}
			add_enactment_modifier = {
				name = cr_laws_native_ownership_share
			}
		}
		scope:armed_forces_ig = {
			add_modifier = {
				name = cr_surrendered_to_native_demands
				months = normal_modifier_time
			}		
		}
		hidden_effect = {
			set_variable = {
				name = cr_lake_superior_mining_permits_cooldown
				months = 5
			}
			change_global_variable = {
				name = cr_robinson_treaty_var
				add = -1
			}
		}
		ai_chance = {
			base = 10
		}
	}

	option = {
		name = cr_canadian_indian_treaties.5.c
		custom_tooltip = {
			text = cr_canadian_indian_treaties.5.c_tt
			create_character = {
				is_agitator = yes
				interest_group = ig:ig_armed_forces
				ideology = ideology_jingoist_leader
			}
		}
		scope:native_state = {
			change_tension = {
				country = root
				value = 30
			}
		}
		if = {
			limit = {
				has_law = law_type:law_no_colonial_affairs
				OR = {
					is_enacting_law = law_type:law_frontier_colonization
					is_enacting_law = law_type:law_colonial_exploitation
					is_enacting_law = law_type:law_colonial_resettlement
				}
			}
			random_political_movement = {
				limit = {
					is_political_movement_type = movement_to_preserve
					NOT = { has_modifier = cr_laws_incident_at_the_copper_mine_negative }
				}
				add_modifier = {
					name = cr_laws_incident_at_the_copper_mine_negative
				}
			}
		}
		else_if = {
			limit = {
				any_political_movement = {
					is_political_movement_type = movement_to_enact
					desired_law = law_type:law_frontier_colonization
					NOT = { has_modifier = cr_laws_incident_at_the_copper_mine_positive }
				}
			}
			random_political_movement = {
				limit = {
					is_political_movement_type = movement_to_enact
					desired_law = law_type:law_frontier_colonization
				}
				add_modifier = {
					name = cr_laws_incident_at_the_copper_mine_positive
					months = normal_modifier_time
				}
			}
		}
		hidden_effect = {
			change_global_variable = {
				name = cr_robinson_treaty_var
				add = 3
			}
		}
		ai_chance = {
			base = 5
		}
	}
}


cr_canadian_indian_treaties.6 = { #The Copper Country Insurgency
	type = country_event
	placement = p:x313BB2

	title = cr_canadian_indian_treaties.6.t
	desc = cr_canadian_indian_treaties.6.desc
	flavor = cr_canadian_indian_treaties.6.f

	event_image = {
		video = "europenorthamerica_before_the_battle"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/construction_colony"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	duration = 3

	trigger = {
		NOT = {
			has_variable = cr_lake_superior_copper_rebellion_cooldown
		}
		NOT = {
			has_truce_with = c:CTF
			has_war_with = c:CTF
		}
		global_var:cr_robinson_treaty_var >9
		scope:copper_mining_state = {
			any_scope_building = {
				is_building_type = building_copper_mine
				level >= 2
			}
		}
	}

	immediate = {
		scope:native_state = {
			random_scope_character = {
				limit = {
					NOT = { has_ideology = ideology:ideology_pacifist }
				}
				set_ideology = ideology:ideology_jingoist_leader
				save_scope_as = native_state_threatener
			}
		}
	}

	option = {
		name = cr_canadian_indian_treaties.6.a
		scope:copper_mining_state = {
			add_radicals_in_state = {
				value = large_radicals
				culture = cu:algonquian
			}
		}
		scope:copper_mining_state.state_region = {
			add_devastation = 6
		}
		scope:native_state = {
			change_tension = {
				country = root
				value = 35
			}
		}
		scope:native_state = {
			create_diplomatic_play = {
				set_key = cr_copper_country_insurgency
				
				war = yes
				
				type = dp_native_uprising
				
				target_state = s:STATE_ONTARIO.region_state:ONT
			}
		}
		hidden_effect = {
			change_global_variable = {
				name = cr_robinson_treaty_var
				add = 1
			}
			set_variable = {
				name = cr_lake_superior_copper_rebellion_cooldown
				months = 12
			}	
		}
		default_option = yes
		#ai_chance = {
		#	base = 85
		#}
	}
}

cr_canadian_indian_treaties.8 = { #The Long Tail of Mining
	type = country_event
	placement = p:x313BB2

	title = cr_canadian_indian_treaties.8.t
	desc = cr_canadian_indian_treaties.8.desc
	flavor = cr_canadian_indian_treaties.8.f

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_gold_prospectors.bk2"
	}

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	duration = 3
	cooldown = {
		months = 14
	}

	trigger = {
		NOT = {
			has_war_with = c:CTF
		}
		scope:copper_mining_state = {
			any_scope_building = {
				is_building_type = building_copper_mine
				level >= 2
			}
		}	
	}

	immediate = {
		scope:native_state = {
			random_scope_character = {
				limit = {
					NOT = { has_ideology = ideology:ideology_pacifist }
				}
				save_scope_as = native_state_threatener
			}
		}
	}

	option = {
		name = cr_canadian_indian_treaties.8.a
		scope:copper_mining_state = {
			add_radicals_in_state = {
				value = medium_radicals
				culture = cu:algonquian
			}
		}
		scope:copper_mining_state.state_region = {
			add_pollution = 3
		}
		scope:native_state = {
			change_tension = {
				country = root
				value = 10
			}
		}
		hidden_effect = {
			change_global_variable = {
				name = cr_robinson_treaty_var
				add = 1
			}
		}
		default_option = yes
		#ai_chance = {
		#	base = 85
		#}
	}
}

cr_canadian_indian_treaties.9 = { #The Tools of the Trade
	type = country_event
	placement = p:x313BB2

	title = cr_canadian_indian_treaties.9.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = {
						any_scope_building = {
							is_building_type = building_tooling_workshops
						}
					}
				}
				desc = cr_canadian_indian_treaties.9.desc
			}
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.9.desc_home_production
			}
		}
	}
	
	flavor = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = {
						any_scope_building = {
							is_building_type = building_tooling_workshops
						}
					}
				}
				desc = cr_canadian_indian_treaties.9.f
			}
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.9.f_home_production
			}
		}	
	}

	event_image = {
		video = "gfx/event_pictures/unspecific_factory_closed.bk2"
	}

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	duration = 3
	cooldown = {
		months = 24
	}

	trigger = {
		has_law = law_type:law_interventionism
		scope:copper_mining_state = {
			any_scope_building = {
				is_building_type = building_copper_mine
				level >= 2
			}
		}
		scope:copper_mining_state = {
			sg:tools = { state_goods_pricier > 0.15 }
		}
	}

	immediate = {
		if = {
			limit = {
				market_capital.market = {
					mg:tools = {
						market_goods_production >= 1
					}
				}
				NOT = {
					any_scope_building = {
						is_building_type = building_tooling_workshops
					}
				}
			}
			top_overlord = {
				random_scope_state = {
					limit = {
						has_building = building_tooling_workshops
					}
					save_scope_as = toolmaking_state
				}
			}
		}
		#else_if = {
		#	limit = {
		#		any_trade_route = {
		#			importer.owner = root
		#			goods = g:tools
		#		}
		#	}
		#	any_trade_route = {
		#		importer.owner = root
		#		goods = g:tools
		#		exporter.owner = {
		#			random_scope_state = {
		#				limit = {
		#					any_scope_building = {
		#						is_building_type = building_tooling_workshops
		#					}
		#				}
		#				save_scope_as = toolmaking_state
		#			}
		#		}
		#	}
		#}
		else_if = {
			limit = {
				NOT = {
					any_scope_building = {
						is_building_type = building_tooling_workshops
					}
				}
			}
			random_state = {
				limit = {
					owner = {
						country_rank >= rank_value:great_power
					}
					is_incorporated = yes
					has_building = building_tooling_workshops
				}
				save_scope_as = toolmaking_state
			}
		}
		else = {
			random_scope_state = {
				limit = {
					has_building = building_tooling_workshops
				}
				save_scope_as = toolmaking_state
			}
		}
		random_state = {
			limit = {
				has_building = building_tooling_workshops
			}
			save_scope_as = foreign_toolmaking_state
		}
		random_scope_building = {
			limit = {
				is_building_type = building_tooling_workshops
			}
			save_scope_as = tooling_plant
		}
	}

	option = {
		name = cr_canadian_indian_treaties.9.a
		default_option = yes
		trigger = {
			has_law = law_type:law_interventionism
		}
		scope:copper_mining_state = {
			start_building_construction = building_tooling_workshops
			add_loyalists_in_state = {
				value = small_radicals
				pop_type = capitalists
			}
		}
		ai_chance = {
			base = 50
		}
	}

	option = {
		name = cr_canadian_indian_treaties.9.b
		scope:copper_mining_state = {
			start_privately_funded_building_construction = building_tooling_workshops
			add_radicals_in_state = {
				value = small_radicals
				pop_type = capitalists
			}
		}
		ai_chance = {
			base = 50
		}
	}
}

cr_canadian_indian_treaties.10 = { #The Robinson Treaties
	type = country_event
	placement = p:x313BB2

	title = cr_canadian_indian_treaties.10.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					has_truce_with = c:CTF
				}
				desc = cr_canadian_indian_treaties.10.desc_defeat
			}
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.10.desc
			}
		}
	}
	flavor = cr_canadian_indian_treaties.10.f

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_gold_prospectors.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/construction_colony"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	duration = 3

	trigger = {		
	}

	immediate = {
		scope:native_state = {
			every_scope_character = {
				limit = {
					NOT = { has_ideology = ideology:ideology_pacifist }
				}
				save_scope_as = native_state_threatener
			}
		}
		###Could perhaps autogenerate a Commissioner by the name of William Benjamin Robinson
		random_scope_character = {
			limit = {
				has_role = general
			}
			save_scope_as = victorious_general
		}
		scope:native_state = {
			change_tension = {
				country = root
				value = -100
			}
		}
	}

	option = {
		name = cr_canadian_indian_treaties.10.a
		trigger = {
			NOT = {
				has_truce_with = c:CTF
			}
		}
		hidden_effect = {
			create_unidirectional_truce = {
				country = scope:native_state
				months = normal_modifier_time
			}
		}
		add_modifier = {
			name = cr_treaty_annuities_robinson_treaty
		}
		hidden_effect = {
			scope:copper_mining_state = {
				remove_modifier = cr_unceded_territory_100
				remove_modifier = cr_unceded_territory_95
				remove_modifier = cr_unceded_territory_75
				remove_modifier = cr_unceded_territory_50
				remove_modifier = cr_unceded_territory_30
			}
			trigger_event = {
				id = cr_canadian_indian_treaties.99
				days = 0
			}
		}	
		ai_chance = {
			base = 10
		}
	}

	option = {
		name = cr_canadian_indian_treaties.10.b
		trigger = {
			NOT = {
				has_truce_with = c:CTF
			}
		}
		if= {
			limit = {
				NOT = {
					has_law = law_type:law_frontier_colonization
				}
			}
			activate_law = law_type:law_frontier_colonization
		}
		add_modifier = {
			name = cr_treaty_annuities
		}
		scope:native_state = {
			change_tension = {
				country = root
				value = 25
			}
		}
		scope:copper_mining_state = {
			add_radicals_in_state = {
				value = medium_radicals
				culture = cu:algonquian
			}
		}
		hidden_effect = {
			scope:copper_mining_state = {
				remove_modifier = cr_unceded_territory_100
				remove_modifier = cr_unceded_territory_95
				remove_modifier = cr_unceded_territory_75
				remove_modifier = cr_unceded_territory_50
				remove_modifier = cr_unceded_territory_30
			}
			trigger_event = {
				id = cr_canadian_indian_treaties.99
				days = 0
			}
		}	
		default_option = yes
		ai_chance = {
			base = 85
		}
	}

	option = {
		name = cr_canadian_indian_treaties.10.c
		trigger = {
			NOT = {
				has_truce_with = c:CTF
			}
		}
		scope:copper_mining_state = {
			add_radicals_in_state = {
				value = very_large_radicals
				culture = cu:algonquian
			}
		}
		scope:native_state = {
			change_tension = {
				country = root
				value = 50
			}
		}
		hidden_effect = {
			scope:copper_mining_state = {
				remove_modifier = cr_unceded_territory_100
				remove_modifier = cr_unceded_territory_95
				remove_modifier = cr_unceded_territory_75
				remove_modifier = cr_unceded_territory_50
				remove_modifier = cr_unceded_territory_30
			}
			trigger_event = {
				id = cr_canadian_indian_treaties.99
				days = 0
			}
		}	
		ai_chance = {
			base = 5
		}
	}

	option = {
		name = cr_canadian_indian_treaties.10.d
		trigger = {
			has_truce_with = c:CTF
		}
		if= {
			limit = {
				NOT = {
					has_law = law_type:law_colonial_exploitation
				}
			}
			activate_law = law_type:law_colonial_exploitation
		}
		scope:copper_mining_state = {
			add_radicals_in_state = {
				value = very_large_radicals
				culture = cu:algonquian
			}
		}
		hidden_effect = {
			scope:copper_mining_state = {
				remove_modifier = cr_unceded_territory_100
				remove_modifier = cr_unceded_territory_95
				remove_modifier = cr_unceded_territory_75
				remove_modifier = cr_unceded_territory_50
				remove_modifier = cr_unceded_territory_30
			}
			trigger_event = {
				id = cr_canadian_indian_treaties.99
				days = 0
			}
		}	
		ai_chance = {
			base = 95
		}
	}

	option = {
		name = cr_canadian_indian_treaties.10.e
		trigger = {
			has_truce_with = c:CTF
		}
		if= {
			limit = {
				NOT = {
					has_law = law_type:law_frontier_colonization
				}
			}
			activate_law = law_type:law_frontier_colonization
		}
		add_modifier = {
			name = cr_treaty_annuities
		}
		scope:copper_mining_state = {
			add_radicals_in_state = {
				value = medium_radicals
				culture = cu:algonquian
			}
		}
		hidden_effect = {
			scope:copper_mining_state = {
				remove_modifier = cr_unceded_territory_100
				remove_modifier = cr_unceded_territory_95
				remove_modifier = cr_unceded_territory_75
				remove_modifier = cr_unceded_territory_50
				remove_modifier = cr_unceded_territory_30
			}
			trigger_event = {
				id = cr_canadian_indian_treaties.99
				days = 0
			}
		}	
		default_option = yes
		ai_chance = {
			base = 5
		}
	}
}

cr_canadian_indian_treaties.97 = { #cleanup event
	type = country_event
	hidden = yes
	immediate = {
		#remove_global_variable = cr_robinson_treaty_var #keep the counter intact, who knows
		remove_modifier = cr_eyeing_unceded_land
		remove_variable = cr_close_numbered_treaties_je
		every_scope_state = {
			remove_variable = negotiating_province
		}
	}
}

cr_canadian_indian_treaties.24 = { #Choosing a Province
	type = country_event
	placement = root

	title = cr_canadian_indian_treaties.24.t
	desc = cr_canadian_indian_treaties.24.desc
	flavor = cr_canadian_indian_treaties.24.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:treaty_commissioner

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_map.dds"

	duration = 3
	immediate = {
		#change_global_variable = {
		#	name = cr_numbered_treaties_counter
		#	add = 1
		#}
		random_character = {
			limit = {
				has_variable = cr_i_am_canadian_native_treaty_negotiator
			}
			save_scope_as = treaty_commissioner
		}
	}
	
	option = {
		name = cr_canadian_indian_treaties.24.ontario
		trigger = {
			any_scope_state = {
				state_region = s:STATE_ONTARIO
				OR = {
					has_modifier = cr_unceded_territory_100
					has_modifier = cr_unceded_territory_95
					has_modifier = cr_unceded_territory_75
					has_modifier = cr_unceded_territory_50
					has_modifier = cr_unceded_territory_30
				}
			}
		}
		random_scope_state = {
			limit = {
				state_region = s:STATE_ONTARIO
			}
			set_variable = negotiating_province
		}
		ai_chance = {
			base = 30
		}
	}
	
	option = {
		name = cr_canadian_indian_treaties.24.kenora
		trigger = {
			any_scope_state = {
				state_region = s:STATE_ONTARIO
				NOT = {
					has_modifier = cr_unceded_territory_100
					has_modifier = cr_unceded_territory_95
					has_modifier = cr_unceded_territory_75
					has_modifier = cr_unceded_territory_50
					has_modifier = cr_unceded_territory_30
				}
			}
			any_scope_state = {
				state_region = s:STATE_KENORA
				OR = {
					has_modifier = cr_unceded_territory_100
					has_modifier = cr_unceded_territory_95
					has_modifier = cr_unceded_territory_75
					has_modifier = cr_unceded_territory_50
					has_modifier = cr_unceded_territory_30
				}
			}
		}
		random_scope_state = {
			limit = {
				state_region = s:STATE_KENORA
			}
			set_variable = negotiating_province
		}
		ai_chance = {
			base = 10
		}
	}
	
	option = {
		name = cr_canadian_indian_treaties.24.quebec
		trigger = {
			any_scope_state = {
				state_region = s:STATE_QUEBEC
				OR = {
					has_modifier = cr_unceded_territory_100
					has_modifier = cr_unceded_territory_95
					has_modifier = cr_unceded_territory_75
					has_modifier = cr_unceded_territory_50
					has_modifier = cr_unceded_territory_30
				}
			}
		}
		random_scope_state = {
			limit = {
				state_region = s:STATE_QUEBEC
			}
			set_variable = negotiating_province
		}
	}
	
	option = {
		name = cr_canadian_indian_treaties.24.ungava
		trigger = {
			any_scope_state = {
				state_region = s:STATE_QUEBEC
				NOT = {
					has_modifier = cr_unceded_territory_100
					has_modifier = cr_unceded_territory_95
					has_modifier = cr_unceded_territory_75
					has_modifier = cr_unceded_territory_50
					has_modifier = cr_unceded_territory_30
				}
			}
			any_scope_state = {
				state_region = s:STATE_UNGAVA
				OR = {
					has_modifier = cr_unceded_territory_100
					has_modifier = cr_unceded_territory_95
					has_modifier = cr_unceded_territory_75
					has_modifier = cr_unceded_territory_50
					has_modifier = cr_unceded_territory_30
				}
			}
		}
		random_scope_state = {
			limit = {
				state_region = s:STATE_UNGAVA
			}
			set_variable = negotiating_province
		}
		ai_chance = {
			base = 25
		}
	}
	
	option = {
		name = cr_canadian_indian_treaties.24.manitoba
		trigger = {
			any_scope_state = {
				state_region = s:STATE_MANITOBA
				OR = {
					has_modifier = cr_unceded_territory_100
					has_modifier = cr_unceded_territory_95
					has_modifier = cr_unceded_territory_75
					has_modifier = cr_unceded_territory_50
					has_modifier = cr_unceded_territory_30
				}
			}
		}
		random_scope_state = {
			limit = {
				state_region = s:STATE_MANITOBA
			}
			set_variable = negotiating_province
		}
		ai_chance = {
			base = 20
		}
	}
	
	option = {
		name = cr_canadian_indian_treaties.24.saskatchewan
		trigger = {
			any_scope_state = {
				state_region = s:STATE_SASKATCHEWAN
				OR = {
					has_modifier = cr_unceded_territory_100
					has_modifier = cr_unceded_territory_95
					has_modifier = cr_unceded_territory_75
					has_modifier = cr_unceded_territory_50
					has_modifier = cr_unceded_territory_30
				}
			}
		}
		random_scope_state = {
			limit = {
				state_region = s:STATE_SASKATCHEWAN
			}
			set_variable = negotiating_province
		}
		ai_chance = {
			base = 20
		}
	}
	
	option = {
		name = cr_canadian_indian_treaties.24.alberta
		trigger = {
			any_scope_state = {
				state_region = s:STATE_ALBERTA
				OR = {
					has_modifier = cr_unceded_territory_100
					has_modifier = cr_unceded_territory_95
					has_modifier = cr_unceded_territory_75
					has_modifier = cr_unceded_territory_50
					has_modifier = cr_unceded_territory_30
				}
			}
		}
		random_scope_state = {
			limit = {
				state_region = s:STATE_ALBERTA
			}
			set_variable = negotiating_province
		}
		ai_chance = {
			base = 20
		}
	}
	
	option = {
		name = cr_canadian_indian_treaties.24.british_columbia
		trigger = {
			any_scope_state = {
				state_region = s:STATE_BRITISH_COLUMBIA
				OR = {
					has_modifier = cr_unceded_territory_100
					has_modifier = cr_unceded_territory_95
					has_modifier = cr_unceded_territory_75
					has_modifier = cr_unceded_territory_50
					has_modifier = cr_unceded_territory_30
				}
			}
		}
		random_scope_state = {
			limit = {
				state_region = s:STATE_BRITISH_COLUMBIA
			}
			set_variable = negotiating_province
		}
		ai_chance = {
			base = 25
		}
	}
	
	option = {
		name = cr_canadian_indian_treaties.24.northwest_territory
		trigger = {
			any_scope_state = {
				state_region = s:STATE_NORTHWEST_TERRITORIES
				OR = {
					has_modifier = cr_unceded_territory_100
					has_modifier = cr_unceded_territory_95
					has_modifier = cr_unceded_territory_75
					has_modifier = cr_unceded_territory_50
					has_modifier = cr_unceded_territory_30
				}
			}
		}
		random_scope_state = {
			limit = {
				state_region = s:STATE_NORTHWEST_TERRITORIES
			}
			set_variable = negotiating_province
		}
		ai_chance = {
			base = 10
		}
	}
	
	option = {
		name = cr_canadian_indian_treaties.24.nunavut
		trigger = {
			any_scope_state = {
				state_region = s:STATE_NUNAVUT
				OR = {
					has_modifier = cr_unceded_territory_100
					has_modifier = cr_unceded_territory_95
					has_modifier = cr_unceded_territory_75
					has_modifier = cr_unceded_territory_50
					has_modifier = cr_unceded_territory_30
				}
			}
		}
		random_scope_state = {
			limit = {
				state_region = s:STATE_NUNAVUT
			}
			set_variable = negotiating_province
		}
		ai_chance = {
			base = 10
		}
	}
}

cr_canadian_indian_treaties.20 = { #The Numbered Treaties
	type = country_event
	placement = scope:target_state

	title = cr_canadian_indian_treaties.20.t
	desc = cr_canadian_indian_treaties.20.desc
	flavor = cr_canadian_indian_treaties.20.f

	event_image = {
		video = "gfx/event_pictures/unspecific_signed_contract.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_map.dds"

	duration = 3
	#cooldown = {
	#	months = 3
	#}

	trigger = {
		#is_at_war = no
		has_modifier = cr_pushing_numbered_treaties
		any_scope_state = {
			has_variable = negotiating_province
		}
	}

	immediate = {
		change_global_variable = {
			name = cr_numbered_treaties_counter
			add = 1
		}
		random_scope_state = {
			limit = {
				has_variable = negotiating_province
				#OR = {
				#	has_modifier = cr_unceded_territory_100
				#	has_modifier = cr_unceded_territory_95
				#	has_modifier = cr_unceded_territory_75
				#	has_modifier = cr_unceded_territory_50
				#	has_modifier = cr_unceded_territory_30
				#}
				#any_neighbouring_state = {
				#	state_region = prev.state_region
				#	owner = {
				#		is_country_type = decentralized
				#		NOT = {
				#			has_truce_with = ROOT
				#		}
				#	}
				#}
			}
			save_scope_as = cr_numbered_treaties_owned_state
		}
		scope:cr_numbered_treaties_owned_state = {
			random_neighbouring_state = { 
				limit = {
					state_region = prev.state_region
					OR = {
						has_modifier = cr_unceded_territory_100
						has_modifier = cr_unceded_territory_95
						has_modifier = cr_unceded_territory_75
						has_modifier = cr_unceded_territory_50
						has_modifier = cr_unceded_territory_30
					}
					owner = {
						is_country_type = decentralized
						NOT = {
							has_truce_with = ROOT
						}
					}
				}
				save_scope_as = target_state
			}
		}
		scope:target_state.owner = {
			save_scope_as = native_state
		}
		scope:native_state = {
			random_primary_culture = {
				save_scope_as = native_culture
			}
		}
		scope:native_state.ruler = {
			save_scope_as = native_ruler
		}
		random_character = {
			limit = {
				has_variable = cr_i_am_canadian_native_treaty_negotiator
			}
			save_scope_as = treaty_negotiator
		}
	}

	option = {
		name = cr_canadian_indian_treaties.20.a
		default_option = yes
		#create_diplomatic_pact = {
		#	country = scope:native_state
		#	type = colonization_rights
		#}
		remove_modifier = cr_pushing_numbered_treaties
		custom_tooltip = {
			text = cr_canadian_indian_treaties.20.a_tt
			set_variable = {
				name = cr_canada_numbered_treaties_cooldown
				months = 8
			}
		}
		scope:cr_numbered_treaties_owned_state = {
			if = {
				limit = {
					has_modifier = cr_unceded_territory_100
				}
				remove_modifier = cr_unceded_territory_100
				add_modifier = {
					name = cr_unceded_territory_50	
				}
			}
			if = {
				limit = {
					has_modifier = cr_unceded_territory_95
				}
				remove_modifier = cr_unceded_territory_95
				add_modifier = {
					name = cr_unceded_territory_50	
				}
			}
			else_if = {
				limit = {
					has_modifier = cr_unceded_territory_50
				}
				remove_modifier = cr_unceded_territory_50
				add_modifier = {
					name = cr_unceded_territory_30	
				}
			}
			else_if = {
				limit = {
					has_modifier = cr_unceded_territory_30
				}
				remove_modifier = cr_unceded_territory_30
			}
			else = {
			
			}
		}
		hidden_effect = {
			scope:target_state = {
				if = {
					limit = {
						has_modifier = cr_unceded_territory_100
					}
					remove_modifier = cr_unceded_territory_100
					add_modifier = {
						name = cr_unceded_territory_50	
					}
				}
				if = {
					limit = {
						has_modifier = cr_unceded_territory_95
					}
					remove_modifier = cr_unceded_territory_95
					add_modifier = {
						name = cr_unceded_territory_50	
					}
				}
				else_if = {
					limit = {
						has_modifier = cr_unceded_territory_50
					}
					remove_modifier = cr_unceded_territory_50
					add_modifier = {
						name = cr_unceded_territory_30	
					}
				}
				else_if = {
					limit = {
						has_modifier = cr_unceded_territory_30
					}
					remove_modifier = cr_unceded_territory_30
				}
				else = {
				
				}
			}
			scope:native_ruler = {
				kill_character = yes
			}
			scope:cr_numbered_treaties_owned_state = {
				remove_variable = negotiating_province
			}
		}
		cr_canadian_treaty_annuities_effect = yes
	
		ai_chance = {
			base = 85
		}
	}

	option = {
		name = cr_canadian_indian_treaties.20.b
		trigger = {
			scope:cr_numbered_treaties_owned_state = {
				NOT = {
					has_modifier = cr_unceded_territory_30
				}
			}
		}
		#create_truce = {
		#	country = scope:native_state
		#	months = normal_modifier_time
		#}
		#create_diplomatic_pact = {
		#	country = scope:native_state
		#	type = colonization_rights
		#	#months = normal_modifier_time
		#}
		remove_modifier = cr_pushing_numbered_treaties
		custom_tooltip = {
			text = cr_canadian_indian_treaties.20.b_tt
			set_variable = {
				name = cr_canada_numbered_treaties_cooldown
				months = 4
			}
		}
		scope:cr_numbered_treaties_owned_state = {
			add_radicals = {
				value = large_radicals
				culture = scope:native_culture
			}
			if = {
				limit = {
					has_modifier = cr_unceded_territory_100
				}
				remove_modifier = cr_unceded_territory_100
				add_modifier = {
					name = cr_unceded_territory_30
				}
			}
			if = {
				limit = {
					has_modifier = cr_unceded_territory_95
				}
				remove_modifier = cr_unceded_territory_95
				add_modifier = {
					name = cr_unceded_territory_30	
				}
			}
			else_if = {
				limit = {
					has_modifier = cr_unceded_territory_50
				}
				remove_modifier = cr_unceded_territory_50
			}
			#else_if = {
			#	limit = {
			#		has_modifier = cr_unceded_territory_30
			#	}
			#	remove_modifier = cr_unceded_territory_30
			#}
			else = {
			
			}
		}
		change_infamy = 3
		scope:native_state = {
			change_tension = {
				country = root
				value = 35
			}
		}
		hidden_effect = {
			scope:target_state = {
				add_radicals = {
					value = large_radicals
				}
				if = {
					limit = {
						has_modifier = cr_unceded_territory_100
					}
					remove_modifier = cr_unceded_territory_100
					add_modifier = {
						name = cr_unceded_territory_30
					}
				}
				if = {
					limit = {
						has_modifier = cr_unceded_territory_95
					}
					remove_modifier = cr_unceded_territory_95
					add_modifier = {
						name = cr_unceded_territory_30
					}
				}
				else_if = {
					limit = {
						has_modifier = cr_unceded_territory_50
					}
					remove_modifier = cr_unceded_territory_50
				}
				else_if = {
					limit = {
						has_modifier = cr_unceded_territory_30
					}
					remove_modifier = cr_unceded_territory_30
				}
				else = {
				
				}
			}
			scope:native_ruler = {
				kill_character = yes
			}
			scope:cr_numbered_treaties_owned_state = {
				remove_variable = negotiating_province
			}
		}
		cr_canadian_treaty_annuities_effect = yes
		ai_chance = {
			base = 15
			modifier = {
				subtract = 15
				infamy >= infamy_threshold:infamous
			}
			modifier = {
				subtract = 15
				any_scope_state = {
					turmoil >= 0.15
				}
			}
		}
	}
}

cr_canadian_indian_treaties.21 = { #Along the Labrador Coast
	type = country_event
	placement = p:xE888D6

	title = cr_canadian_indian_treaties.21.t
	desc = cr_canadian_indian_treaties.21.desc
	flavor = cr_canadian_indian_treaties.21.f

	event_image = {
		video = "gfx/event_pictures/europenorthamerica_gold_prospectors.bk2" #needs something better
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_map.dds"

	duration = 3
	cooldown = { months = 4 } 

	trigger = {
		#Triggered by JE
	}

	immediate = {
		random_scope_state = {
			limit = {
				state_region = s:STATE_NEWFOUNDLAND
			}
			save_scope_as = cr_newfoundland
		}
		scope:cr_newfoundland = {
			random_neighbouring_state = { 
				limit = {
					state_region = prev.state_region
					OR = {
						has_modifier = cr_unceded_territory_100
						has_modifier = cr_unceded_territory_95
						has_modifier = cr_unceded_territory_75
						has_modifier = cr_unceded_territory_50
						has_modifier = cr_unceded_territory_30
					}
					owner = {
						is_country_type = decentralized
						NOT = {
							has_truce_with = ROOT
						}
					}
				}
				save_scope_as = target_state
			}
		}
		scope:target_state.owner = {
			save_scope_as = native_state
		}
		scope:native_state.ruler = {
			save_scope_as = native_ruler
		}
	}

	option = {
		name = cr_canadian_indian_treaties.21.a
		default_option = yes
		#create_diplomatic_pact = {
		#	country = scope:native_state
		#	type = colonization_rights
		#}
		scope:cr_newfoundland = {
			if = {
				limit = {
					has_modifier = cr_unceded_territory_100
				}
				remove_modifier = cr_unceded_territory_100
			}
			else_if = {
				limit = {
					has_modifier = cr_unceded_territory_95
				}
				remove_modifier = cr_unceded_territory_95
			}
			else_if = {
				limit = {
					has_modifier = cr_unceded_territory_50
				}
				remove_modifier = cr_unceded_territory_50
			}
			else_if = {
				limit = {
					has_modifier = cr_unceded_territory_30
				}
				remove_modifier = cr_unceded_territory_30
			}
			else = {
			
			}
		}
		hidden_effect = {
			s:STATE_NEWFOUNDLAND = {
				every_scope_state = {
					remove_modifier = cr_unceded_territory_100
					remove_modifier = cr_unceded_territory_95
					remove_modifier = cr_unceded_territory_50
					remove_modifier = cr_unceded_territory_30
				}
			}
		}
	}
}

cr_canadian_indian_treaties.22 = { #The Royal Proclamation of 1763
	type = country_event
	placement = root

	title = cr_canadian_indian_treaties.22.t
	desc = cr_canadian_indian_treaties.22.desc
	flavor = cr_canadian_indian_treaties.22.f

	event_image = {
		video = "gfx/event_pictures/votp_monarch_holding_court.bk2" #needs something better
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	duration = 3

	trigger = {
		is_ai = no
	}

	immediate = {
		sr:region_ruperts_land = {
			save_scope_as = ruperts_land
		}
		sr:region_canada = {
			save_scope_as = canada_region
		}
	}

	option = {
		name = cr_canadian_indian_treaties.22.a
		default_option = yes
		add_radicals = {
			value = medium_radicals
			interest_group = ig:ig_rural_folk
		}
		if = {
			limit = {
				NOT = { has_law = law_type:law_no_colonial_affairs }
			}
			activate_law = law_type:law_no_colonial_affairs
		}
		custom_tooltip = {
			text = cr_jingoist_agitator_appears_tt
			create_character = {
				is_agitator = yes
				ideology = ideology_jingoist_leader
			}
		}
		custom_tooltip = {
			text = cr_canadian_indian_treaties.22.a_tt
			add_loyalists = {
				value = small_radicals
				culture = cu:iroquoian
			}
			add_loyalists = {
				value = small_radicals
				culture = cu:algonquian
			}
			add_loyalists = {
				value = small_radicals
				culture = cu:cree
			}
			add_loyalists = {
				value = small_radicals
				culture = cu:inuit
			}
			add_loyalists = {
				value = small_radicals
				culture = cu:athabaskan
			}
			add_loyalists = {
				value = small_radicals
				culture = cu:siouan
			}
			add_loyalists = {
				value = small_radicals
				culture = cu:salish
			}
			add_loyalists = {
				value = small_radicals
				culture = cu:dakota
			}
			add_loyalists = {
				value = small_radicals
				culture = cu:caddoan
			}
			add_loyalists = {
				value = small_radicals
				culture = cu:hokan
			}
			add_loyalists = {
				value = small_radicals
				culture = cu:nez_perce
			}
			add_loyalists = {
				value = small_radicals
				culture = cu:oodham
			}
			add_loyalists = {
				value = small_radicals
				culture = cu:paiute
			}
			add_loyalists = {
				value = small_radicals
				culture = cu:navajo
			}
			add_loyalists = {
				value = small_radicals
				culture = cu:comanche
			}
			add_loyalists = {
				value = small_radicals
				culture = cu:apache
			}
			add_loyalists = {
				value = small_radicals
				culture = cu:muskogean
			}
			add_loyalists = {
				value = small_radicals
				culture = cu:cherokee
			}
		}
	}

	option = {
		name = cr_canadian_indian_treaties.22.b
		custom_tooltip = {
			text = cr_canadian_indian_treaties.22.b_tt
			s:STATE_ONTARIO = {
				every_scope_state = {
					remove_modifier = cr_unceded_territory_100
					remove_modifier = cr_unceded_territory_95
					remove_modifier = cr_unceded_territory_50
					remove_modifier = cr_unceded_territory_30
				}
			}
			s:STATE_QUEBEC = {
				every_scope_state = {
					remove_modifier = cr_unceded_territory_100
					remove_modifier = cr_unceded_territory_95
					remove_modifier = cr_unceded_territory_50
					remove_modifier = cr_unceded_territory_30
				}
			}
			s:STATE_KENORA = {
				every_scope_state = {
					remove_modifier = cr_unceded_territory_100
					remove_modifier = cr_unceded_territory_95
					remove_modifier = cr_unceded_territory_50
					remove_modifier = cr_unceded_territory_30
				}
			}
			s:STATE_UNGAVA = {
				every_scope_state = {
					remove_modifier = cr_unceded_territory_100
					remove_modifier = cr_unceded_territory_95
					remove_modifier = cr_unceded_territory_50
					remove_modifier = cr_unceded_territory_30
				}
			}
			s:STATE_MANITOBA = {
				every_scope_state = {
					remove_modifier = cr_unceded_territory_100
					remove_modifier = cr_unceded_territory_95
					remove_modifier = cr_unceded_territory_50
					remove_modifier = cr_unceded_territory_30
				}
			}
			s:STATE_SASKATCHEWAN = {
				every_scope_state = {
					remove_modifier = cr_unceded_territory_100
					remove_modifier = cr_unceded_territory_95
					remove_modifier = cr_unceded_territory_50
					remove_modifier = cr_unceded_territory_30
				}
			}
			s:STATE_ALBERTA = {
				every_scope_state = {
					remove_modifier = cr_unceded_territory_100
					remove_modifier = cr_unceded_territory_95
					remove_modifier = cr_unceded_territory_50
					remove_modifier = cr_unceded_territory_30
				}
			}
			s:STATE_BRITISH_COLUMBIA = {
				every_scope_state = {
					remove_modifier = cr_unceded_territory_100
					remove_modifier = cr_unceded_territory_95
					remove_modifier = cr_unceded_territory_50
					remove_modifier = cr_unceded_territory_30
				}
			}
			s:STATE_NORTHWEST_TERRITORIES= {
				every_scope_state = {
					remove_modifier = cr_unceded_territory_100
					remove_modifier = cr_unceded_territory_95
					remove_modifier = cr_unceded_territory_50
					remove_modifier = cr_unceded_territory_30
				}
			}
			s:STATE_YUKON_TERRITORY= {
				every_scope_state = {
					remove_modifier = cr_unceded_territory_100
					remove_modifier = cr_unceded_territory_95
					remove_modifier = cr_unceded_territory_50
					remove_modifier = cr_unceded_territory_30
				}
			}
			s:STATE_NUNAVUT= {
				every_scope_state = {
					remove_modifier = cr_unceded_territory_100
					remove_modifier = cr_unceded_territory_95
					remove_modifier = cr_unceded_territory_50
					remove_modifier = cr_unceded_territory_30
				}
			}
			if = {
				limit = {
					any_scope_state = {
						state_region = s:STATE_NEWFOUNDLAND
					}
				}
				s:STATE_NEWFOUNDLAND= {
					every_scope_state = {
						remove_modifier = cr_unceded_territory_100
						remove_modifier = cr_unceded_territory_95
						remove_modifier = cr_unceded_territory_50
						remove_modifier = cr_unceded_territory_30
					}
				}
			}
		}
		add_radicals = {
			value = medium_radicals
			interest_group = ig:ig_intelligentsia
		}
		custom_tooltip = {
			text = cr_canadian_indian_treaties.22.b_tt_2
			add_radicals = {
				value = very_large_radicals
				culture = cu:iroquoian
			}
			add_radicals = {
				value = very_large_radicals
				culture = cu:algonquian
			}
			add_radicals = {
				value = very_large_radicals
				culture = cu:cree
			}
			add_radicals = {
				value = very_large_radicals
				culture = cu:inuit
			}
			add_radicals = {
				value = very_large_radicals
				culture = cu:athabaskan
			}
			add_radicals = {
				value = very_large_radicals
				culture = cu:siouan
			}
			add_radicals = {
				value = very_large_radicals
				culture = cu:salish
			}
			add_radicals = {
				value = very_large_radicals
				culture = cu:dakota
			}
			add_radicals = {
				value = very_large_radicals
				culture = cu:caddoan
			}
			add_radicals = {
				value = very_large_radicals
				culture = cu:hokan
			}
			add_radicals = {
				value = very_large_radicals
				culture = cu:nez_perce
			}
			add_radicals = {
				value = very_large_radicals
				culture = cu:oodham
			}
			add_radicals = {
				value = very_large_radicals
				culture = cu:paiute
			}
			add_radicals = {
				value = very_large_radicals
				culture = cu:navajo
			}
			add_radicals = {
				value = very_large_radicals
				culture = cu:comanche
			}
			add_radicals = {
				value = very_large_radicals
				culture = cu:apache
			}
			add_radicals = {
				value = very_large_radicals
				culture = cu:muskogean
			}
			add_radicals = {
				value = very_large_radicals
				culture = cu:cherokee
			}
		}
		custom_tooltip = {
			text = cr_canadian_indian_treaties_remove_je
			set_variable = cr_close_numbered_treaties_je
		}		
	}
}

cr_canadian_indian_treaties.50 = { #The Man on the River
	type = country_event
	placement = p:x92e099

	title = cr_canadian_indian_treaties.50.t
	desc = cr_canadian_indian_treaties.50.summary
	flavor = {
		random_valid = {
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.50.flavour_2
			}
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.50.flavour_3
			}
		}
	}
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/construction_colony"

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	event_image = {
		texture = "gfx/event_pictures/cr_north_american_fur_trader.dds"
	}
	
	duration = 3

	immediate = {
		set_global_variable = cr_north_american_fur_trade_has_ended
		#save_scope_as = fur_declining_country
		c:ATB = {
			save_scope_as = cr_fur_trading_country
		}
		c:ORG = {
			save_scope_as = columbia_district
		}
		random_scope_state = {
			limit = {
				OR = {
					region = sr:region_north_china				
					region = sr:region_south_china
					AND = {
						region = sr:region_manchuria
						random_neighbouring_state = {
							owner = c:CHI
						}
					}				
				}
			}
			save_scope_as = hongkong_scope
		}
		sr:region_ruperts_land = {
			save_scope_as = ruperts_land
		}
		sr:region_ruperts_land = {
			save_scope_as = canada_scope
		}
	}

	trigger = {
		NOT = {
			has_global_variable = cr_north_american_fur_trade_has_ended
		}
		OR = {
			AND = { exists = c:GBR c:GBR = ROOT }
			AND = { exists = c:ENG c:ENG = ROOT }
		}
		any_scope_state = {
			OR = {
				region = sr:region_north_china
				region = sr:region_south_china
				AND = {
					region = sr:region_manchuria
					random_neighbouring_state = {
						owner = c:CHI
					}
				}
			}
		}
		OR = {
			p:x590948.owner = { is_subject_of = ROOT }
			p:x7A5E12.owner = { is_subject_of = ROOT }
			p:x841727.owner = { is_subject_of = ROOT }
		}
		#OR = {
		#	has_technology_researched = realism
		#	top_overlord = {
		#		has_technology_researched = realism
		#	}
		#}
		#mg:silk = { state_goods_pricier < 0.5 }
	}

	option = {
		name = cr_canadian_indian_treaties.50.a
		custom_tooltip = {
			text = cr_canadian_indian_treaties.50.a_tt
			every_scope_state = {
				remove_building = building_fur_trading_post	
				force_resource_depletion = bg_fur_trading_post		
			}
			every_subject_or_below = {
				limit = {
					OR = {
						capital = { region = sr:region_canada }
						capital = { region = sr:region_ruperts_land }
						capital = { region = sr:region_pacific_coast }
					}
				}
				trigger_event = { id = cr_canadian_indian_treaties.51 days = 3 }
			}
		}
	}
}

cr_canadian_indian_treaties.51 = { #The Man on the River - Columbia District
	type = country_event
	placement = scope:fur_declining_country

	title = cr_canadian_indian_treaties.50.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOR = {
						this = c:HBC
						this = c:ORG
					}
				}
				desc = cr_canadian_indian_treaties.51.summary_can
			}
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.51.summary
			}
		}
	
	}
	flavor = {
		random_valid = {
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.50.flavour_1
			}
			triggered_desc = {
				trigger = {
					always = yes
				}
				desc = cr_canadian_indian_treaties.50.flavour_2
			}
		}
	}
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/construction_colony"

	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"

	event_image = {
		texture = "gfx/event_pictures/cr_north_american_fur_trader.dds"
	}
	
	duration = 3

	immediate = {
		
		if = {
			limit = {
				c:ORG = this
			}
			c:ORG = {
				save_scope_as = fur_declining_country
			}
			c:CSC = {
				save_scope_as = cr_fur_trading_country
			}
		}
		else = {
			c:HBC = {
				save_scope_as = fur_declining_country
			}
			c:ATB = {
				save_scope_as = cr_fur_trading_country
			}
		}
		random_scope_building = {
			limit = {
				is_building_type = building_fur_trading_post
			}
			save_scope_as = fur_trading_post
		}
		sr:region_ruperts_land = {
			save_scope_as = ruperts_land
		}
		sr:region_pacific_coast = {
			save_scope_as = pacific_coast
		}
		sr:region_canada= {
			save_scope_as = canada_scope
		}
	}

	trigger = {
	}

	option = {
		name = cr_canadian_indian_treaties.50.a
		custom_tooltip = {
			text = cr_canadian_indian_treaties.50.a_tt
			every_scope_state = {
				remove_building = building_fur_trading_post	
				force_resource_depletion = bg_fur_trading_post		
			}		
		}
	}
}

